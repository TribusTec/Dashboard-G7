(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{66876:function(e,a,s){Promise.resolve().then(s.bind(s,17624))},92451:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},45675:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},18930:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},17624:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return H}});var t=s(57437),r=s(42470),l=s(79205);let n=(0,l.Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var i=s(45675),c=s(18930);let o=(0,l.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var d=s(48736),u=s(2265),x=s(99376),m=s(79820),h=s(33804),p=s(96246),f=s(64381),j=s(40279),g=s(75060),v=e=>{let{value:a,onChange:s,label:r,id:l="search-input"}=e;return(0,t.jsxs)("div",{className:"mb-4 w-full",children:[r&&(0,t.jsx)(g._,{htmlFor:l,className:"mb-3 block",children:r}),(0,t.jsx)(j.I,{id:l,type:"text",placeholder:"Pesquisar por nome",value:a,onChange:s,className:"w-full"})]})},N=s(92451),y=s(10407),b=s(93448),w=s(12381);let k=e=>{let{className:a,...s}=e;return(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,b.cn)("mx-auto flex w-full justify-center",a),...s})};k.displayName="Pagination";let C=u.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("ul",{ref:a,className:(0,b.cn)("flex flex-row items-center gap-1",s),...r})});C.displayName="PaginationContent";let z=u.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("li",{ref:a,className:(0,b.cn)("",s),...r})});z.displayName="PaginationItem";let M=e=>{let{className:a,isActive:s,size:r="icon",...l}=e;return(0,t.jsx)("a",{"aria-current":s?"page":void 0,className:(0,b.cn)((0,w.d)({variant:s?"outline":"ghost",size:r}),a),...l})};M.displayName="PaginationLink";let P=e=>{let{className:a,...s}=e;return(0,t.jsxs)(M,{"aria-label":"Go to previous page",size:"default",className:(0,b.cn)("gap-1 pl-2.5",a),...s,children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Anterior"})]})};P.displayName="PaginationPrevious";let Z=e=>{let{className:a,...s}=e;return(0,t.jsxs)(M,{"aria-label":"Go to next page",size:"default",className:(0,b.cn)("gap-1 pr-2.5",a),...s,children:[(0,t.jsx)("span",{children:"Pr\xf3ximo"}),(0,t.jsx)(y.Z,{className:"h-4 w-4"})]})};Z.displayName="PaginationNext";let A=e=>{let{className:a,...s}=e;return(0,t.jsx)("span",{})};A.displayName="PaginationEllipsis";var D=e=>{let{currentPage:a,totalPages:s,onPageChange:r}=e;return(0,t.jsx)(k,{className:"mt-4",children:(0,t.jsxs)(C,{children:[(0,t.jsx)(z,{children:(0,t.jsx)(P,{lang:"pt-BR",href:"#",onClick:e=>{e.preventDefault(),a>1&&r(a-1)}})}),Array.from({length:s},(e,a)=>a).map(e=>(0,t.jsx)(z,{children:(0,t.jsx)(M,{href:"#",onClick:a=>{a.preventDefault(),r(e+1)},isActive:a===e+1,children:e+1})},e)),(0,t.jsx)(z,{children:(0,t.jsx)(A,{})}),(0,t.jsx)(z,{children:(0,t.jsx)(Z,{lang:"pt-BR",href:"#",onClick:e=>{e.preventDefault(),a<s&&r(a+1)}})})]})})},E=s(50269),R=s(17292),S=s(52395),_=s(49760),F=s(30456);let L=[{id:"1",source:"avatar1",image:"/avatars/avatar1.png"},{id:"2",source:"avatar2",image:"/avatars/avatar2.png"},{id:"3",source:"avatar3",image:"/avatars/avatar3.png"},{id:"4",source:"avatar4",image:"/avatars/avatar4.png"}];function U(){let e=(0,x.useRouter)(),{users:a,loading:s,setUsers:r}=(0,f.U)(null),[l,j]=(0,u.useState)(""),[g,N]=(0,u.useState)(1),[y,b]=(0,u.useState)(null),k=(0,u.useMemo)(()=>a.filter(e=>e.nome.toLowerCase().includes(l.toLowerCase())),[a,l]),C=Math.ceil(k.length/10),z=(0,u.useMemo)(()=>{let e=(g-1)*10;return k.slice(e,e+10)},[k,g]),M=async()=>{if(y)try{await (0,R.Od)((0,R.iH)(S.Fs,"users/".concat(y))),r(e=>e.filter(e=>e.id!==y))}catch(e){console.error("Erro ao excluir usu\xe1rio.",e)}},P=e=>{(0,F.$4)(e)},Z=a=>{e.push("/Usuarios/editar?id=".concat(a))},A=e=>{if(!e)return"U";let a=e.split(" ");return 1===a.length?a[0].charAt(0).toUpperCase():(a[0].charAt(0)+a[a.length-1].charAt(0)).toUpperCase()},U=e=>{let a=L.find(a=>a.id===e);return a?a.image:null};return(0,t.jsxs)(m.Zb,{className:"flex-1 w-full",children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(m.ll,{className:"flex text-lg sm:text-xl text-gray-800",children:["Usu\xe1rios Total",(0,t.jsx)("span",{className:"text-marca block",children:"."})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(w.z,{onClick:()=>{(0,F.HX)(a)},className:"flex items-center gap-2 bg-marca hover:bg-marca/80 text-white",size:"sm",children:[(0,t.jsx)(n,{className:"h-4 w-4"}),"Gerar Lista Completa PDF"]})})]}),(0,t.jsxs)(m.SZ,{children:["Atualizado \xe0s ",new Date().toLocaleTimeString()]})]}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)(v,{label:"Buscar usu\xe1rio",value:l,onChange:e=>j(e.target.value),id:"busca-usuarios"}),s?(0,t.jsx)(E.J,{}):(0,t.jsxs)(t.Fragment,{children:[0===z.length?(0,t.jsx)("p",{className:"text-center",children:"Nenhum usu\xe1rio encontrado."}):(0,t.jsxs)(h.iA,{className:"w-full text-sm overflow-visible",children:[(0,t.jsx)(h.xD,{children:(0,t.jsxs)(h.SC,{children:[(0,t.jsx)(h.ss,{className:"w-1/4",children:"Nome"}),(0,t.jsx)(h.ss,{className:"w-1/4",children:"Email"}),(0,t.jsx)(h.ss,{className:"w-1/4",children:"Telefone"}),(0,t.jsx)(h.ss,{className:"text-center w-1/4",children:"\xdaltimo acesso"}),(0,t.jsx)(h.ss,{className:"text-center w-1/4",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(h.RM,{children:z.map(e=>(0,t.jsxs)(h.SC,{children:[(0,t.jsx)(h.pj,{className:"uppercase",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(p.qE,{className:"h-6 w-6",children:[e.avatarId?(0,t.jsx)(p.F$,{src:U(e.avatarId)||"",alt:"Avatar de ".concat(e.nome)}):(0,t.jsx)(p.F$,{src:"/avatars/avatar1.png",alt:"Avatar padr\xe3o"}),(0,t.jsx)(p.Q5,{className:"bg-primary text-primary-foreground text-xs",children:A(e.nome)})]}),e.nome]})}),(0,t.jsx)(h.pj,{children:e.email}),(0,t.jsx)(h.pj,{children:e.phone}),(0,t.jsx)(h.pj,{className:"text-center text-xs",children:e.ultimoAcesso}),(0,t.jsx)(h.pj,{className:"text-center",children:(0,t.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,t.jsx)(w.z,{size:"sm",variant:"outline",onClick:()=>Z(e.id),children:(0,t.jsx)(i.Z,{size:12})}),(0,t.jsx)(_.Q,{trigger:(0,t.jsx)(w.z,{size:"sm",variant:"destructive",onClick:()=>b(e.id),children:(0,t.jsx)(c.Z,{size:12})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir este usu\xe1rio? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:M}),(0,t.jsx)(w.z,{size:"sm",variant:"outline",className:"bg-marca2 text-white hover:bg-marca2/80 hover:text-white",onClick:()=>{let a=e.phone.replace(/\D/g,""),s=encodeURIComponent("Ol\xe1! Estou entrando em contato com voc\xea pelo dashboard."),t="https://wa.me/".concat(a,"?text=").concat(s);window.open(t,"_blank")},children:(0,t.jsx)(o,{size:12})}),(0,t.jsx)(w.z,{size:"sm",variant:"outline",className:"bg-blue-600 text-white hover:bg-blue-700",onClick:()=>P(e),children:(0,t.jsx)(d.Z,{size:12})})]})})]},e.id))})]}),z.length>=1&&(0,t.jsx)(D,{currentPage:g,totalPages:C,onPageChange:e=>N(e)})]})]})]})}var q=s(434),I=s(75547);function V(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(q.V,{title:"Usu\xe1rios"}),(0,t.jsx)(r.Y,{}),(0,t.jsxs)("main",{className:"sm:ml-64 p-4",children:[(0,t.jsx)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"}),(0,t.jsx)(U,{})]})]})}function H(){return(0,t.jsx)(I.i,{requireAdmin:!0,children:(0,t.jsx)(V,{})})}},40279:function(e,a,s){"use strict";s.d(a,{I:function(){return n}});var t=s(57437),r=s(2265),l=s(93448);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm  file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n})});n.displayName="Input"},75060:function(e,a,s){"use strict";s.d(a,{_:function(){return o}});var t=s(57437),r=s(2265),l=s(6394),n=s(90535),i=s(93448);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.f,{ref:a,className:(0,i.cn)(c(),s),...r})});o.displayName=l.f.displayName},6394:function(e,a,s){"use strict";s.d(a,{f:function(){return i}});var t=s(2265),r=s(66840),l=s(57437),n=t.forwardRef((e,a)=>(0,l.jsx)(r.WV.label,{...e,ref:a,onMouseDown:a=>{var s;a.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var i=n}},function(e){e.O(0,[481,982,505,841,256,350,875,478,728,52,971,117,744],function(){return e(e.s=66876)}),_N_E=e.O()}]);