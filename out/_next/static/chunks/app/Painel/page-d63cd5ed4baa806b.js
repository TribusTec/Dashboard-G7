(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{1154:function(e,t,a){Promise.resolve().then(a.bind(a,95309))},95309:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ew}});var s=a(57437),i=a(2265),r=a(99376),o=a(42470),n=a(45478),l=a(99544),c=a(69140),d=a(79820);function u(){return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(c.O,{className:"h-8 w-48"})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0,void 0].map((e,t)=>(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(c.O,{className:"h-4 w-32"}),(0,s.jsx)(c.O,{className:"h-4 w-4 rounded-full"})]}),(0,s.jsxs)(d.aY,{children:[(0,s.jsx)(c.O,{className:"h-8 w-24 mb-2"}),(0,s.jsx)(c.O,{className:"h-4 w-48"})]})]},"card-".concat(t)))}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(c.O,{className:"h-6 w-40"})}),(0,s.jsx)(d.aY,{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)(c.O,{className:"h-4 w-full col-span-1"}),(0,s.jsx)(c.O,{className:"h-4 w-full col-span-1"}),(0,s.jsx)(c.O,{className:"h-4 w-12 mx-auto col-span-1"})]},"skeleton-row-".concat(t)))})]})]})}var m=a(69174),h=a(12381),x=a(40279),p=a(93448);let g=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});g.displayName="Textarea";var j=a(75060),f=a(33804),v=a(71488),N=a(74291),y=a(49760),b=a(99397),C=a(71769),D=a(45554),w=a(45675),E=a(18930),S=a(14438),z=a(41121);function T(e){let{editingTrilha:t,onCancel:a,refetch:r}=e,{token:o}=(0,n.a)(),[l,c]=(0,i.useState)(void 0!==t.nome&&null!==t.nome?String(t.nome):""),[d,u]=(0,i.useState)(void 0!==t.descricao&&null!==t.descricao?String(t.descricao):""),[m,p]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1),y=!m||function(e){if(!e.trim())return!0;let t=decodeURIComponent(e);return/^https?:\/\/.+\.(png|jpe?g|svg)(\?.*)?$/i.test(t)||/^https:\/\/firebasestorage\.googleapis\.com\/v0\/b\/[^/]+\/o\/[^?]+\?alt=media(&token=[^&]+)?$/i.test(e)}(m);async function b(){if(l.trim())try{var e;v(!0);let s={id:t.id,nome:l.trim(),descricao:"string"==typeof d?d.trim():"Sem descri\xe7\xe3o",backgroundSvg:"string"==typeof m?m.trim():t.backgroundSvg||"",etapas:(e=t.etapas||[],Array.isArray(e)?e.map(e=>{let t={id:e.id,titulo:e.titulo,descricao:e.descricao,icon:e.icon,iconLibrary:e.iconLibrary};return e.imageUrl&&(t.imageUrl=e.imageUrl),Array.isArray(e.stages)&&(t.stages=e.stages.map(e=>{let t={id:e.id,title:e.title,description:e.description,tempo_estimado:e.tempo_estimado,video:e.video,image:e.image};return Array.isArray(e.pontos_chave)&&(t.pontos_chave=[...e.pontos_chave]),Array.isArray(e.questions)&&(t.questions=e.questions.map(e=>{let t={...e};return delete t.completed,delete t.isCompleted,t})),t})),t}):[]),image:t.image||""};console.log("Trilha ap\xf3s sanitiza\xe7\xe3o:",JSON.stringify(s,null,2)),console.log("Enviando trilha atualizada:",s),await z.hi.trails.update(t.id,s,o||""),a(),S.A.success("Trilha atualizada com sucesso!"),await r()}catch(e){!function(e){if(console.error("Detalhes do erro:",e),e.message&&e.message.includes("Dados inv\xe1lidos")){let t=e.message.match(/"([^"]+)" is not allowed/);t&&t[1]&&console.error("Campo n\xe3o permitido: ".concat(t[1]))}}(e),console.error("Erro ao atualizar trilha:",e),S.A.error("Erro ao atualizar trilha",{description:String(e.message||"Ocorreu um erro ao tentar atualizar a trilha.")})}finally{v(!1)}}return(0,s.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&a(),children:(0,s.jsxs)(N.cZ,{children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Editar Trilha"}),(0,s.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es da trilha ",String(t.nome),"."]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-nome-trilha",children:"Nome da trilha"}),(0,s.jsx)(x.I,{id:"edit-nome-trilha",value:l,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-descricao-trilha",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"edit-descricao-trilha",value:d,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-background-trilha",children:"URL da imagem de fundo (opcional)"}),(0,s.jsx)(x.I,{id:"edit-background-trilha",placeholder:"Ex: https://example.com/image.jpg ou URL do Firebase Storage",value:m,onChange:e=>p(e.target.value)}),m&&!y&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:"Insira uma URL v\xe1lida terminando em .png, .jpg, .jpeg, .svg ou uma URL do Firebase Storage."}),!m&&t.backgroundSvg&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"A imagem atual ser\xe1 mantida."})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h.z,{variant:"outline",onClick:a,children:"Cancelar"}),(0,s.jsx)(h.z,{onClick:b,disabled:!!(f||!l.trim()||m&&!y),children:f?"Salvando...":"Salvar"})]})]})]})})}function U(e){let{trilhas:t,refetch:a,navigateToEtapas:r}=e,{token:o}=(0,n.a)(),[l,c]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[U,A]=(0,i.useState)(""),[k,I]=(0,i.useState)(!1),[_,O]=(0,i.useState)(null);(0,i.useEffect)(()=>{console.log("\uD83D\uDD04 PainelTrilhas - trilhas atualizadas:",t.length,"trilhas")},[t]);let q=t.length,R=t.reduce((e,t)=>{var a;return e+((null==t?void 0:null===(a=t.etapas)||void 0===a?void 0:a.length)||0)},0);function F(e){if(!e.trim())return!0;let t=decodeURIComponent(e);return/^https?:\/\/.+\.(png|jpe?g|svg)(\?.*)?$/i.test(t)||/^https:\/\/firebasestorage\.googleapis\.com\/v0\/b\/[^/]+\/o\/[^?]+\?alt=media(&token=[^&]+)?$/i.test(e)}async function Z(){if(l.trim())try{if(I(!0),U.trim()&&!F(U.trim())){S.A.error("URL da imagem inv\xe1lida",{description:"Por favor, forne\xe7a uma URL v\xe1lida terminando em .png, .jpg, .jpeg ou .svg."});return}let e={id:"trilha_".concat(Date.now()+1),nome:l.trim(),descricao:u.trim()||"Sem descri\xe7\xe3o",etapas:[],image:"",backgroundSvg:U.trim()};await z.hi.trails.create(e,o||""),c(""),p(""),A(""),S.A.success("Trilha criada com sucesso!"),setTimeout(async()=>{console.log("\uD83D\uDD04 Fazendo refetch ap\xf3s criar trilha..."),await a()},500)}catch(e){console.error("Erro ao criar trilha:",e),S.A.error("Erro ao criar trilha",{description:e.message||"Ocorreu um erro ao tentar criar a trilha."})}finally{I(!1)}}async function L(e){try{await z.hi.trails.delete(e,o||""),S.A.success("Trilha exclu\xedda com sucesso!"),await a()}catch(e){console.error("Erro ao excluir trilha:",e),S.A.error("Erro ao excluir trilha",{description:e.message||"N\xe3o foi poss\xedvel excluir a trilha."})}}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Painel de Trilhas"}),(0,s.jsxs)(N.Vq,{children:[(0,s.jsx)(N.hg,{asChild:!0,children:(0,s.jsxs)(h.z,{className:"gap-1 items-center bg-marca hover:bg-marca/80 text-white",size:"sm",children:[(0,s.jsx)(b.Z,{size:16}),"Adicionar Trilha"]})}),(0,s.jsxs)(N.cZ,{children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Nova Trilha"}),(0,s.jsx)(N.Be,{children:"Crie uma nova trilha de aprendizado para seus usu\xe1rios."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"nome-trilha",children:"Nome da trilha"}),(0,s.jsx)(x.I,{id:"nome-trilha",placeholder:"Ex: React Native B\xe1sico",value:l,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"descricao-trilha",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"descricao-trilha",placeholder:"Ex: Aprenda os fundamentos do React Native",value:u,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"background-trilha",children:"URL da imagem de fundo (opcional)"}),(0,s.jsx)(x.I,{id:"background-trilha",placeholder:"Ex: https://example.com/image.jpg ou URL do Firebase Storage",value:U,onChange:e=>A(e.target.value)}),U&&!F(U)&&(0,s.jsx)("p",{className:"text-sm text-red-500 mt-1",children:"Insira uma URL v\xe1lida terminando em .png, .jpg, .jpeg, .svg ou uma URL do Firebase Storage."})]}),(0,s.jsx)(h.z,{onClick:Z,disabled:!!(k||!l.trim()||U&&!F(U)),className:"w-full",children:k?"Criando...":"Criar trilha"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(d.ll,{className:"text-sm font-medium",children:"Total de Trilhas"}),(0,s.jsx)(C.Z,{className:"h-4 w-4 text-marca"})]}),(0,s.jsxs)(d.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:q}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Trilhas de aprendizado dispon\xedveis"})]})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(d.ll,{className:"text-sm font-medium",children:"Total de Etapas"}),(0,s.jsx)(D.Z,{className:"h-4 w-4 text-marca"})]}),(0,s.jsxs)(d.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:R}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Etapas de aprendizado cadastradas"})]})]})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Trilhas de Aprendizado"})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)(f.iA,{children:[(0,s.jsx)(f.xD,{children:(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.ss,{children:"Nome"}),(0,s.jsx)(f.ss,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(f.ss,{children:"Etapas"}),(0,s.jsx)(f.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(f.RM,{children:t.length>0?t.map(e=>{var t;return(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.pj,{className:"font-medium",children:null==e?void 0:e.nome}),(0,s.jsx)(f.pj,{className:"max-w-xs truncate",children:null==e?void 0:e.descricao}),(0,s.jsx)(f.pj,{children:(0,s.jsx)(m.C,{variant:"outline",children:(null==e?void 0:null===(t=e.etapas)||void 0===t?void 0:t.length)||0})}),(0,s.jsx)(f.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>r(e),children:(0,s.jsx)(D.Z,{size:16,className:"text-blue-600"})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Gerenciar Etapas"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>{O(e)},children:(0,s.jsx)(w.Z,{size:16})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Editar trilha"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(y.Q,{trigger:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",children:(0,s.jsx)(E.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta trilha? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>L(e.id)})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Excluir trilha"})})]})})]})})]},null==e?void 0:e.id)}):(0,s.jsx)(f.SC,{children:(0,s.jsx)(f.pj,{colSpan:4,className:"text-center py-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(C.Z,{className:"h-8 w-8 text-gray-400"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma trilha cadastrada"})]})})})})]})})]}),_&&(0,s.jsx)(T,{editingTrilha:_,onCancel:function(){O(null)},refetch:a})]})}var A=a(15291),k=a(32660),I=a(48736),_=a(25887),O=a(64935),q=a(89291),R=a(29374),F=a(92934),Z=a(33073),L=a(25846),Q=a(6076),P=a(11239);let V=[{value:"book-open",label:"Livro Aberto",icon:C.Z},{value:"book-open-text",label:"Livro com Texto",icon:_.Z},{value:"code",label:"C\xf3digo",icon:O.Z},{value:"layout",label:"Layout",icon:q.Z},{value:"video",label:"V\xeddeo",icon:R.Z},{value:"file-text",label:"Documento",icon:I.Z},{value:"check-circle",label:"Conclu\xeddo",icon:F.Z},{value:"puzzle",label:"Puzzle",icon:Z.Z},{value:"lightbulb",label:"Ideia",icon:L.Z},{value:"rocket",label:"Foguete",icon:Q.Z},{value:"zap",label:"Raio",icon:P.Z}];function M(e){let{iconName:t}=e,a=V.find(e=>e.value===t);if(a&&a.icon){let e=a.icon;return(0,s.jsx)(e,{className:"h-5 w-5"})}return(0,s.jsx)(C.Z,{className:"h-5 w-5"})}var B=a(43301),J=a(50721);let G=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(J.fC,{className:(0,p.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,s.jsx)(J.bU,{className:(0,p.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function Y(e){var t;let{selectedTrilha:a,editingEtapa:r,onCancel:o,refetch:l,setSelectedTrilha:c}=e,{token:d}=(0,n.a)(),[u,m]=(0,i.useState)("string"==typeof r.titulo?r.titulo:void 0!==r.titulo&&null!==r.titulo?String(r.titulo):""),[p,f]=(0,i.useState)("string"==typeof r.descricao?r.descricao:void 0!==r.descricao&&null!==r.descricao?String(r.descricao):""),[v,y]=(0,i.useState)(r.icon||"book-open"),[b,C]=(0,i.useState)(r.imageUrl||""),[D,w]=(0,i.useState)(!1),[E,z]=(0,i.useState)(!1);async function T(){if(a&&r&&u&&"string"==typeof u&&u.trim())try{if(z(!0),D&&"string"==typeof b&&!b.trim()){S.A.error("Por favor, insira uma URL de imagem v\xe1lida."),z(!1);return}let e={...r,titulo:"string"==typeof u?u.trim():u,descricao:"string"==typeof p?p.trim():"Sem descri\xe7\xe3o",icon:D?"string"==typeof b?b.trim():b:v,iconLibrary:D?"custom":"lucide"},t={...a,etapas:a.etapas.map(t=>t.id===r.id?e:t)},s=(0,B.v0)().currentUser;if(!s)throw Error("Usu\xe1rio n\xe3o autenticado");let i=await s.getIdToken(),n=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(a.id,".json?auth=").concat(i),{method:"PUT",body:JSON.stringify(t)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));c(t),o(),S.A.success("Etapa atualizada com sucesso!")}catch(e){console.error("Erro ao atualizar etapa:",e),S.A.error("Erro ao atualizar etapa",{description:e.message||"N\xe3o foi poss\xedvel atualizar a etapa."})}finally{z(!1)}}return(0,i.useEffect)(()=>{"custom"===r.iconLibrary&&"image"===r.icon&&r.imageUrl&&w(!0)},[r]),(0,s.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&o(),children:(0,s.jsxs)(N.cZ,{children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Editar Etapa"}),(0,s.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es da etapa: ",(null===(t=r.titulo)||void 0===t?void 0:t.toString())||""]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-titulo-etapa",children:"T\xedtulo da etapa"}),(0,s.jsx)(x.I,{id:"edit-titulo-etapa",value:u,onChange:e=>m(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-descricao-etapa",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"edit-descricao-etapa",value:p,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"edit-use-image",checked:D,onCheckedChange:e=>w(e)}),(0,s.jsx)(j._,{htmlFor:"edit-use-image",children:"Usar imagem em vez de \xedcone"})]}),D?(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-image-url",children:"URL da Imagem"}),(0,s.jsx)(x.I,{id:"edit-image-url",placeholder:"Ex: https://exemplo.com/imagem.png",value:b,onChange:e=>C(e.target.value)})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"edit-icon-etapa",children:"\xcdcone"}),(0,s.jsxs)(A.Ph,{value:v,onValueChange:e=>y(e),children:[(0,s.jsx)(A.i4,{id:"edit-icon-etapa",children:(0,s.jsx)(A.ki,{placeholder:"Selecione um \xedcone"})}),(0,s.jsx)(A.Bw,{children:V.map(e=>(0,s.jsx)(A.Ql,{value:e.value,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,s.jsx)(e.icon,{className:"h-4 w-4"}),e.label]})},e.value))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h.z,{variant:"outline",onClick:o,children:"Cancelar"}),(0,s.jsx)(h.z,{onClick:T,disabled:E||!u.trim(),children:E?"Salvando...":"Salvar"})]})]})]})})}function $(e){let{selectedTrilha:t,refetch:a,navigateToTrilhas:r,navigateToStages:o,setSelectedTrilha:l}=e,{token:c}=(0,n.a)(),[u,p]=(0,i.useState)({titulo:"",descricao:"",icon:"book-open",iconLibrary:"lucide",imageUrl:"",useImage:!1}),[C,D]=(0,i.useState)(!1),[z,T]=(0,i.useState)(null);async function U(){if(t&&u.titulo.trim())try{if(D(!0),u.useImage&&!u.imageUrl.trim()){S.A.error("Por favor, insira uma URL de imagem v\xe1lida."),D(!1);return}let e={id:"etapa_".concat(Date.now()),titulo:u.titulo.trim(),descricao:u.descricao.trim()||"Sem descri\xe7\xe3o",icon:u.useImage?u.imageUrl.trim():u.icon,iconLibrary:u.useImage?"custom":"lucide",imageUrl:u.useImage?u.imageUrl.trim():"",icone:u.useImage?u.imageUrl.trim():u.icon,stages:[]},s={...t,etapas:[...t.etapas||[],e]},i=(0,B.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let r=await i.getIdToken(),o=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(t.id,".json?auth=").concat(r),{method:"PUT",body:JSON.stringify(s)});if(!o.ok)throw Error("Erro ao atualizar trilha: ".concat(o.statusText));l(s),p({titulo:"",descricao:"",icon:"book-open",iconLibrary:"lucide",imageUrl:"",useImage:!1}),S.A.success("Etapa adicionada com sucesso!"),await a()}catch(e){console.error("Erro ao adicionar etapa:",e),S.A.error("Erro ao adicionar etapa",{description:e.message||"N\xe3o foi poss\xedvel adicionar a etapa."})}finally{D(!1)}}async function _(e){if(t)try{let s={...t,etapas:t.etapas.filter(t=>t.id!==e)},i=(0,B.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let r=await i.getIdToken(),o=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(t.id,".json?auth=").concat(r),{method:"PUT",body:JSON.stringify(s)});if(!o.ok)throw Error("Erro ao atualizar trilha: ".concat(o.statusText));l(s),S.A.success("Etapa exclu\xedda com sucesso!"),await a()}catch(e){console.error("Erro ao excluir etapa:",e),S.A.error("Erro ao excluir etapa",{description:e.message||"N\xe3o foi poss\xedvel excluir a etapa."})}}let O=e=>"custom"===e.iconLibrary;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-1",children:[(0,s.jsx)(k.Z,{size:14}),"Voltar"]}),(0,s.jsxs)("h1",{className:"text-2xl font-bold",children:["Etapas: ",(0,s.jsx)("span",{className:"text-marca",children:t.nome})]})]}),(0,s.jsxs)(N.Vq,{children:[(0,s.jsx)(N.hg,{asChild:!0,children:(0,s.jsxs)(h.z,{className:"gap-1 items-center",size:"sm",children:[(0,s.jsx)(b.Z,{size:16}),"Adicionar Etapa"]})}),(0,s.jsxs)(N.cZ,{children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Nova Etapa"}),(0,s.jsxs)(N.Be,{children:["Adicione uma nova etapa \xe0 trilha ",t.nome,"."]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"titulo-etapa",children:"T\xedtulo da etapa"}),(0,s.jsx)(x.I,{id:"titulo-etapa",placeholder:"Ex: Componentes B\xe1sicos",value:u.titulo,onChange:e=>p({...u,titulo:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"descricao-etapa",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"descricao-etapa",placeholder:"Ex: Aprenda sobre os componentes fundamentais",value:u.descricao,onChange:e=>p({...u,descricao:e.target.value})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"use-image",checked:u.useImage,onCheckedChange:e=>p({...u,useImage:e})}),(0,s.jsx)(j._,{htmlFor:"use-image",children:"Usar imagem em vez de \xedcone"})]}),u.useImage?(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"image-url",children:"URL da Imagem"}),(0,s.jsx)(x.I,{id:"image-url",placeholder:"Ex: https://exemplo.com/imagem.png",value:u.imageUrl,onChange:e=>p({...u,imageUrl:e.target.value})})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"icon-etapa",children:"\xcdcone"}),(0,s.jsxs)(A.Ph,{value:u.icon,onValueChange:e=>p({...u,icon:e}),children:[(0,s.jsx)(A.i4,{id:"icon-etapa",children:(0,s.jsx)(A.ki,{placeholder:"Selecione um \xedcone"})}),(0,s.jsx)(A.Bw,{children:V.map(e=>(0,s.jsx)(A.Ql,{value:e.value,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,s.jsx)(e.icon,{className:"h-4 w-4"}),e.label]})},e.value))})]})]}),(0,s.jsx)(h.z,{onClick:U,disabled:C||!u.titulo.trim(),className:"w-full",children:C?"Adicionando...":"Adicionar etapa"})]})]})]})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Etapas da Trilha"})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)(f.iA,{children:[(0,s.jsx)(f.xD,{children:(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.ss,{children:"\xcdcone"}),(0,s.jsx)(f.ss,{children:"T\xedtulo"}),(0,s.jsx)(f.ss,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(f.ss,{children:"Stages"}),(0,s.jsx)(f.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(f.RM,{children:t.etapas&&t.etapas.length>0?t.etapas.map(e=>{var t;return(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.pj,{children:(0,s.jsx)("div",{className:"bg-blue-100 p-1.5 rounded-full w-8 h-8 flex items-center justify-center",children:O(e)?(0,s.jsx)("img",{src:e.icon||"/placeholder.svg",className:"h-5 w-5 object-contain"}):(0,s.jsx)(M,{iconName:e.icon})})}),(0,s.jsx)(f.pj,{className:"font-medium",children:e.titulo}),(0,s.jsx)(f.pj,{className:"max-w-xs truncate",children:e.descricao}),(0,s.jsx)(f.pj,{children:(0,s.jsx)(m.C,{variant:"outline",children:(null===(t=e.stages)||void 0===t?void 0:t.length)||0})}),(0,s.jsx)(f.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>o(e),children:(0,s.jsx)(I.Z,{size:16,className:"text-blue-600"})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Gerenciar Stages"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>{T(e)},children:(0,s.jsx)(w.Z,{size:16})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Editar etapa"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(y.Q,{trigger:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",children:(0,s.jsx)(E.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta etapa? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>_(e.id)})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Excluir etapa"})})]})})]})})]},e.id)}):(0,s.jsx)(f.SC,{children:(0,s.jsx)(f.pj,{colSpan:5,className:"text-center py-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(I.Z,{className:"h-8 w-8 text-gray-400"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma etapa cadastrada"})]})})})})]})})]}),z&&(0,s.jsx)(Y,{selectedTrilha:t,editingEtapa:z,onCancel:function(){T(null)},refetch:a,setSelectedTrilha:l})]})}G.displayName=J.fC.displayName;var K=a(17168),H=a(30401),X=a(32489),W=a(91723),ee=a(75368);function et(e){var t;let{selectedTrilha:a,selectedEtapa:r,editingStage:o,onCancel:l,refetch:c,setSelectedTrilha:d,setSelectedEtapa:u}=e,{token:m}=(0,n.a)(),[p,f]=(0,i.useState)({...o}),[v,y]=(0,i.useState)(""),[b,C]=(0,i.useState)(!1);async function D(){var e;if(a&&r&&(null===(e=p.title)||void 0===e?void 0:e.trim()))try{C(!0);let e={...r,stages:r.stages.map(e=>e.id===o.id?p:e)},t={...a,etapas:a.etapas.map(t=>t.id===r.id?e:t)},s=(0,B.v0)().currentUser;if(!s)throw Error("Usu\xe1rio n\xe3o autenticado");let i=await s.getIdToken(),n=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(a.id,".json?auth=").concat(i),{method:"PUT",body:JSON.stringify(t)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));d(t),u(e),l(),S.A.success("Stage atualizado com sucesso!")}catch(e){console.error("Erro ao atualizar stage:",e),S.A.error("Erro ao atualizar stage",{description:e.message||"N\xe3o foi poss\xedvel atualizar o stage."})}finally{C(!1)}}function w(){v.trim()&&(f({...p,pontos_chave:[...p.pontos_chave||[],v.trim()]}),y(""))}return(0,s.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&l(),children:(0,s.jsxs)(N.cZ,{className:"max-w-4xl",children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Editar Stage"}),(0,s.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es do stage ",o.title,"."]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(K.mQ,{defaultValue:"basic",className:"w-full",children:[(0,s.jsxs)(K.dr,{className:"grid w-full grid-cols-3",children:[(0,s.jsx)(K.SP,{value:"basic",children:"B\xe1sico"}),(0,s.jsx)(K.SP,{value:"media",children:"M\xeddia"}),(0,s.jsx)(K.SP,{value:"pontos",children:"Pontos-Chave"})]}),(0,s.jsxs)(K.nU,{value:"basic",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-title-stage",children:"T\xedtulo do stage"}),(0,s.jsx)(x.I,{id:"edit-title-stage",value:p.title,onChange:e=>f({...p,title:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"edit-description-stage",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"edit-description-stage",value:p.description,onChange:e=>f({...p,description:e.target.value})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"edit-tempo-stage",children:"Tempo estimado"}),(0,s.jsx)(x.I,{id:"edit-tempo-stage",value:p.tempo_estimado,onChange:e=>f({...p,tempo_estimado:e.target.value})})]})})]}),(0,s.jsxs)(K.nU,{value:"media",className:"space-y-4 mt-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"edit-image-stage",children:"URL da imagem"}),(0,s.jsx)(x.I,{id:"edit-image-stage",value:p.image,onChange:e=>f({...p,image:e.target.value})})]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"edit-video-stage",children:"URL do v\xeddeo"}),(0,s.jsx)(x.I,{id:"edit-video-stage",value:p.video,onChange:e=>f({...p,video:e.target.value})})]})})]}),(0,s.jsxs)(K.nU,{value:"pontos",className:"space-y-4 mt-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"edit-ponto-chave",children:"Adicionar ponto-chave"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(x.I,{id:"edit-ponto-chave",placeholder:"Ex: Entender o que s\xe3o componentes no React Native",value:v,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&w()}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:w,disabled:!v.trim(),children:"Adicionar"})]})]})}),(0,s.jsx)("div",{className:"space-y-2 mt-2",children:p.pontos_chave&&p.pontos_chave.length>0?p.pontos_chave.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(H.Z,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{children:e})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>(function(e){let t=[...p.pontos_chave||[]];t.splice(e,1),f({...p,pontos_chave:t})})(t),children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]},t)):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum ponto-chave adicionado."})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h.z,{variant:"outline",onClick:l,children:"Cancelar"}),(0,s.jsx)(h.z,{onClick:D,disabled:b||!(null===(t=p.title)||void 0===t?void 0:t.trim()),children:b?"Salvando...":"Salvar altera\xe7\xf5es"})]})]})]})})}function ea(e){var t;let{selectedTrilha:a,selectedEtapa:r,refetch:o,navigateToEtapas:l,navigateToQuestions:c,setSelectedTrilha:u,setSelectedEtapa:p}=e,{token:C}=(0,n.a)(),[D,z]=(0,i.useState)({title:"",description:"",tempo_estimado:"",image:"",video:"",pontos_chave:[],questions:[]}),[T,U]=(0,i.useState)(!1),[A,_]=(0,i.useState)(null),[O,q]=(0,i.useState)(""),[R,F]=(0,i.useState)(!1);async function Z(){var e,t,s,i,o;if(a&&r&&(null===(e=D.title)||void 0===e?void 0:e.trim()))try{U(!0);let e={id:"stage_".concat(Date.now()),title:D.title.trim(),description:(null===(t=D.description)||void 0===t?void 0:t.trim())||"Sem descri\xe7\xe3o",tempo_estimado:null===(s=D.tempo_estimado)||void 0===s?void 0:s.trim(),image:(null===(i=D.image)||void 0===i?void 0:i.trim())||"",video:(null===(o=D.video)||void 0===o?void 0:o.trim())||"",pontos_chave:D.pontos_chave||[],questions:[],ordem:0,completed:void 0},n={...r,stages:[...r.stages||[],e]},l={...a,etapas:a.etapas.map(e=>e.id===r.id?n:e)},c=(0,B.v0)().currentUser;if(!c)throw Error("Usu\xe1rio n\xe3o autenticado");let d=await c.getIdToken(),m=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(a.id,".json?auth=").concat(d),{method:"PUT",body:JSON.stringify(l)});if(!m.ok)throw Error("Erro ao atualizar trilha: ".concat(m.statusText));u(l),p(n),z({title:"",description:"",tempo_estimado:"",image:"",video:"",pontos_chave:[],questions:[]}),q(""),F(!1),S.A.success("Stage adicionado com sucesso!")}catch(e){console.error("Erro ao adicionar stage:",e),S.A.error("Erro ao adicionar stage",{description:e.message||"N\xe3o foi poss\xedvel adicionar o stage."})}finally{U(!1)}}async function L(e){if(a&&r)try{let t={...r,stages:r.stages.filter(t=>t.id!==e)},s={...a,etapas:a.etapas.map(e=>e.id===r.id?t:e)},i=(0,B.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let o=await i.getIdToken(),n=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(a.id,".json?auth=").concat(o),{method:"PUT",body:JSON.stringify(s)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));u(s),p(t),S.A.success("Stage exclu\xeddo com sucesso!")}catch(e){console.error("Erro ao excluir stage:",e),S.A.error("Erro ao excluir stage",{description:e.message||"N\xe3o foi poss\xedvel excluir o stage."})}}function Q(){O.trim()&&(z({...D,pontos_chave:[...D.pontos_chave||[],O.trim()]}),q(""))}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>l(a),className:"flex items-center gap-1",children:[(0,s.jsx)(k.Z,{size:14}),"Voltar"]}),(0,s.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,s.jsx)(M,{iconName:r.icon}),(0,s.jsxs)("span",{children:["Stages: ",(0,s.jsx)("span",{className:"text-marca",children:r.titulo})]})]})]}),(0,s.jsxs)(N.Vq,{open:R,onOpenChange:F,children:[(0,s.jsx)(N.hg,{asChild:!0,children:(0,s.jsxs)(h.z,{className:"gap-1 items-center",size:"sm",children:[(0,s.jsx)(b.Z,{size:16}),"Adicionar Stage"]})}),(0,s.jsxs)(N.cZ,{className:"max-w-4xl",children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:"Novo Stage"}),(0,s.jsxs)(N.Be,{children:["Adicione um novo stage \xe0 etapa ",r.titulo,"."]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(K.mQ,{defaultValue:"basic",className:"w-full",children:[(0,s.jsxs)(K.dr,{className:"grid w-full grid-cols-3",children:[(0,s.jsx)(K.SP,{value:"basic",children:"B\xe1sico"}),(0,s.jsx)(K.SP,{value:"media",children:"M\xeddia"}),(0,s.jsx)(K.SP,{value:"pontos",children:"Pontos-Chave"})]}),(0,s.jsxs)(K.nU,{value:"basic",className:"space-y-4 mt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"title-stage",children:"T\xedtulo do stage"}),(0,s.jsx)(x.I,{id:"title-stage",placeholder:"Ex: Introdu\xe7\xe3o aos Componentes",value:D.title||"",onChange:e=>z({...D,title:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"description-stage",children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"description-stage",placeholder:"Ex: Conceitos b\xe1sicos de componentes React Native",value:D.description||"",onChange:e=>z({...D,description:e.target.value})})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"tempo-stage",children:"Tempo estimado"}),(0,s.jsx)(x.I,{id:"tempo-stage",placeholder:"Ex: 15-20 minutos",value:D.tempo_estimado||"",onChange:e=>z({...D,tempo_estimado:e.target.value})})]})})]}),(0,s.jsxs)(K.nU,{value:"media",className:"space-y-4 mt-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"image-stage",children:"URL da imagem"}),(0,s.jsx)(x.I,{id:"image-stage",placeholder:"Ex: https://reactnative.dev/img/tiny_logo.png",value:D.image||"",onChange:e=>z({...D,image:e.target.value})})]})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"video-stage",children:"URL do v\xeddeo"}),(0,s.jsx)(x.I,{id:"video-stage",placeholder:"Ex: https://www.youtube.com/watch?v=0-S5a0eXPoc",value:D.video||"",onChange:e=>z({...D,video:e.target.value})})]})})]}),(0,s.jsxs)(K.nU,{value:"pontos",className:"space-y-4 mt-4",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(j._,{htmlFor:"ponto-chave",children:"Adicionar ponto-chave"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(x.I,{id:"ponto-chave",placeholder:"Ex: Entender o que s\xe3o componentes no React Native",value:O,onChange:e=>q(e.target.value),onKeyDown:e=>"Enter"===e.key&&Q()}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:Q,disabled:!O.trim(),children:"Adicionar"})]})]})}),(0,s.jsx)("div",{className:"space-y-2 mt-2",children:D.pontos_chave&&D.pontos_chave.length>0?D.pontos_chave.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(H.Z,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{children:e})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>(function(e){let t=[...D.pontos_chave||[]];t.splice(e,1),z({...D,pontos_chave:t})})(t),children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]},t)):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum ponto-chave adicionado."})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(h.z,{variant:"outline",onClick:()=>F(!1),children:"Cancelar"}),(0,s.jsx)(h.z,{onClick:Z,disabled:T||!(null===(t=D.title)||void 0===t?void 0:t.trim()),children:T?"Adicionando...":"Adicionar stage"})]})]})]})]})]}),(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Stages da Etapa"})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)(f.iA,{children:[(0,s.jsx)(f.xD,{children:(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.ss,{children:"T\xedtulo"}),(0,s.jsx)(f.ss,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(f.ss,{children:"Tempo"}),(0,s.jsx)(f.ss,{children:"Quest\xf5es"}),(0,s.jsx)(f.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(f.RM,{children:r.stages&&r.stages.length>0?r.stages.map(e=>{var t;return(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.pj,{className:"font-medium",children:e.title}),(0,s.jsx)(f.pj,{className:"max-w-xs truncate",children:e.description}),(0,s.jsx)(f.pj,{children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(W.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,s.jsx)("span",{children:e.tempo_estimado})]})}),(0,s.jsx)(f.pj,{children:(0,s.jsx)(m.C,{variant:"outline",children:(null===(t=e.questions)||void 0===t?void 0:t.length)||0})}),(0,s.jsx)(f.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>c(e),children:(0,s.jsx)(ee.Z,{size:16,className:"text-blue-600"})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Gerenciar Quest\xf5es"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>{_(e)},children:(0,s.jsx)(w.Z,{size:16})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Editar stage"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(y.Q,{trigger:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",children:(0,s.jsx)(E.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir este stage? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>L(e.id)})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Excluir stage"})})]})})]})})]},e.id)}):(0,s.jsx)(f.SC,{children:(0,s.jsx)(f.pj,{colSpan:5,className:"text-center py-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(I.Z,{className:"h-8 w-8 text-gray-400"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Nenhum stage cadastrado"})]})})})})]})})]}),A&&(0,s.jsx)(et,{selectedTrilha:a,selectedEtapa:r,editingStage:A,onCancel:function(){_(null)},refetch:o,setSelectedTrilha:u,setSelectedEtapa:p})]})}var es=a(37595),ei=a(22507);function er(e){let{questions:t,onEditQuestion:a,onDeleteQuestion:i}=e,r=t.map(ei.hn);return(0,s.jsxs)(d.Zb,{children:[(0,s.jsx)(d.Ol,{children:(0,s.jsx)(d.ll,{children:"Quest\xf5es do Stage"})}),(0,s.jsx)(d.aY,{children:(0,s.jsxs)(f.iA,{children:[(0,s.jsx)(f.xD,{children:(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.ss,{children:"Tipo"}),(0,s.jsx)(f.ss,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(f.ss,{children:"Detalhes"}),(0,s.jsx)(f.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)(f.RM,{children:r&&r.length>0?r.map(e=>{var t,r,o,n,l;return(0,s.jsxs)(f.SC,{children:[(0,s.jsx)(f.pj,{children:(0,s.jsx)(m.C,{children:(n=e.type,(null===(l=[{value:es.c.trueOrFalse,label:"Verdadeiro ou Falso"},{value:es.c.multipleChoice,label:"M\xfaltipla Escolha"},{value:es.c.ORDERING,label:"Ordena\xe7\xe3o"},{value:es.c.MATCHING,label:"Correspond\xeancia"}].find(e=>e.value===n))||void 0===l?void 0:l.label)||n)})}),(0,s.jsx)(f.pj,{className:"max-w-xs truncate",children:e.description}),(0,s.jsxs)(f.pj,{children:[e.type===es.c.trueOrFalse&&(0,s.jsx)(m.C,{variant:e.isTrue?"secondary":"destructive",children:e.isTrue?"Verdadeiro":"Falso"}),e.type===es.c.multipleChoice&&(0,s.jsxs)(m.C,{variant:"outline",children:[(null===(t=e.options)||void 0===t?void 0:t.length)||0," op\xe7\xf5es"]}),e.type===es.c.ORDERING&&(0,s.jsxs)(m.C,{variant:"outline",children:[(null===(r=e.items)||void 0===r?void 0:r.length)||0," itens"]}),e.type===es.c.MATCHING&&(0,s.jsxs)(m.C,{variant:"outline",children:[(null===(o=e.correctMatches)||void 0===o?void 0:o.length)||0," correspond\xeancias"]})]}),(0,s.jsx)(f.pj,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",onClick:()=>a(e),children:(0,s.jsx)(w.Z,{size:16})})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Editar quest\xe3o"})})]})}),(0,s.jsx)(v.pn,{children:(0,s.jsxs)(v.u,{children:[(0,s.jsx)(v.aJ,{asChild:!0,children:(0,s.jsx)(y.Q,{trigger:(0,s.jsx)(h.z,{size:"icon",variant:"ghost",children:(0,s.jsx)(E.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta quest\xe3o? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>i(e.id)})}),(0,s.jsx)(v._v,{children:(0,s.jsx)("p",{children:"Excluir quest\xe3o"})})]})})]})})]},e.id)}):(0,s.jsx)(f.SC,{children:(0,s.jsx)(f.pj,{colSpan:4,className:"text-center py-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(ee.Z,{className:"h-8 w-8 text-gray-400"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma quest\xe3o cadastrada"})]})})})})]})})]})}var eo=a(68245),en=a(99388);function el(e){let{isTrue:t,statementText:a,onChange:i,onStatementTextChange:r}=e;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,s.jsx)(x.I,{id:"statement-text",placeholder:"Ex: Instru\xe7\xf5es adicionais para a quest\xe3o",value:a,onChange:e=>r(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[(0,s.jsx)(G,{id:"question-is-true",checked:t,onCheckedChange:i}),(0,s.jsx)(j._,{htmlFor:"question-is-true",className:"flex items-center gap-2",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F.Z,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{children:"A afirma\xe7\xe3o \xe9 verdadeira"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.Z,{className:"h-4 w-4 text-red-500"}),(0,s.jsx)("span",{children:"A afirma\xe7\xe3o \xe9 falsa"})]})})]})]})}function ec(e){let{options:t,correctOptions:a,multipleCorrect:r,statementText:o,onOptionsChange:n,onCorrectOptionsChange:l,onMultipleCorrectChange:c,onStatementTextChange:d}=e,[u,m]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[f,v]=(0,i.useState)(!1);function N(){if(!u.trim()&&!p.trim())return;let e={id:"".concat(t.length+1),text:u.trim(),imageUrl:f?p.trim():void 0};n([...t,e]),m(""),g(""),v(!1)}return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"statement",children:"Enunciado da quest\xe3o"}),(0,s.jsx)(x.I,{id:"statement",placeholder:"Digite o enunciado da quest\xe3o",value:o,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-md p-3",children:[(0,s.jsx)(G,{id:"multiple-correct",checked:r,onCheckedChange:c}),(0,s.jsx)(j._,{htmlFor:"multiple-correct",children:r?"M\xfaltiplas respostas corretas":"Apenas uma resposta correta"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(j._,{children:"Op\xe7\xf5es"}),t.length>0?t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,s.jsx)(G,{checked:a.includes(e.id),onCheckedChange:()=>{var t;return t=e.id,void(r?a.includes(t)?l(a.filter(e=>e!==t)):l([...a,t]):l([t]))}}),e.imageUrl&&(0,s.jsx)("img",{src:e.imageUrl,alt:"",className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)(x.I,{value:e.text,onChange:a=>{var s,i;return s=e.id,i=a.target.value,void n(t.map(e=>e.id===s?{...e,text:i}:e))},className:"flex-1"})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void(n(t.filter(e=>e.id!==s)),l(a.filter(e=>e!==s)))},children:(0,s.jsx)(X.Z,{className:"w-4 h-4 text-muted-foreground"})})]},e.id)):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhuma op\xe7\xe3o adicionada."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.I,{placeholder:"Digite uma nova op\xe7\xe3o",value:u,onChange:e=>m(e.target.value),onKeyDown:e=>"Enter"===e.key&&N()}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(G,{id:"add-image",checked:f,onCheckedChange:v}),(0,s.jsx)(j._,{htmlFor:"add-image",children:"Adicionar imagem"})]}),f&&(0,s.jsx)(x.I,{placeholder:"URL da imagem",value:p,onChange:e=>g(e.target.value)}),(0,s.jsx)(h.z,{type:"button",onClick:N,disabled:!u.trim()&&(!f||!p.trim()),className:"w-full",children:"Adicionar"})]})]})}var ed=a(36715),eu=a(26327);function em(e){var t;let{items:a,correctOrder:r,statementText:o,onItemsChange:n,onCorrectOrderChange:l,onStatementTextChange:c}=e,[d,u]=(0,i.useState)({id:"",text:"",imageUrl:""}),[m,p]=(0,i.useState)(!1);function g(){var e,t;if(!d.text.trim()&&(!m||!(null===(e=d.imageUrl)||void 0===e?void 0:e.trim())))return;let s="item_".concat(Date.now()),i={id:s,text:d.text.trim(),imageUrl:m&&(null===(t=d.imageUrl)||void 0===t?void 0:t.trim())||""},o=Array.isArray(a)?[...a,i]:[i],c=Array.isArray(r)?[...r,s]:[s];n(o),l(c),u({id:"",text:"",imageUrl:""}),p(!1),console.log("New item added:",i),console.log("Updated items:",o),console.log("Updated order:",c)}function f(e,t){let a=r.indexOf(e);if(-1===a)return;let s=[...r];"up"===t&&a>0?[s[a],s[a-1]]=[s[a-1],s[a]]:"down"===t&&a<s.length-1&&([s[a],s[a+1]]=[s[a+1],s[a]]),l(s)}return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,s.jsx)(x.I,{id:"statement-text",placeholder:"Ex: Coloque os eventos na ordem cronol\xf3gica correta",value:o,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{children:"Itens para ordenar"}),a&&a.length>0?(0,s.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>{let i=a.find(t=>t.id===e);return i?(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"bg-primary text-primary-foreground w-6 h-6 rounded-full flex items-center justify-center text-sm",children:t+1}),i.imageUrl&&(0,s.jsx)("img",{src:i.imageUrl||"/placeholder.svg",alt:i.text,className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("span",{children:i.text})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>f(i.id,"up"),disabled:0===t,children:(0,s.jsx)(ed.Z,{className:"h-4 w-4"})}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>f(i.id,"down"),disabled:t===r.length-1,children:(0,s.jsx)(eu.Z,{className:"h-4 w-4"})}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{var e;return e=i.id,void(n(a.filter(t=>t.id!==e)),l(r.filter(t=>t!==e)))},children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]})]},i.id):null})}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.I,{placeholder:"Digite um item para ordenar",value:d.text,onChange:e=>u({...d,text:e.target.value}),onKeyDown:e=>"Enter"===e.key&&!m&&g()}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"show-item-image",checked:m,onCheckedChange:p}),(0,s.jsx)(j._,{htmlFor:"show-item-image",children:"Adicionar imagem"})]}),m&&(0,s.jsx)(x.I,{placeholder:"URL da imagem",value:d.imageUrl||"",onChange:e=>u({...d,imageUrl:e.target.value})}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:()=>{console.log("Add button clicked"),console.log("Current newItem:",d),console.log("showItemImage:",m),g()},disabled:!d.text.trim()&&(!m||!(null===(t=d.imageUrl)||void 0===t?void 0:t.trim())),className:"w-full",children:"Adicionar"})]})]})]})}function eh(e){let{leftColumn:t,rightColumn:a,correctMatches:r,statementText:o,onLeftColumnChange:n,onRightColumnChange:l,onCorrectMatchesChange:c,onStatementTextChange:d}=e,[u,m]=(0,i.useState)({id:"",text:"",imageUrl:""}),[p,g]=(0,i.useState)({id:"",text:"",imageUrl:""}),[f,v]=(0,i.useState)(!1),[N,y]=(0,i.useState)(!1),[b,C]=(0,i.useState)({left:"",right:""});function D(){(u.text.trim()||u.imageUrl)&&(n([...t,{id:"left_".concat(Date.now()),text:u.text.trim(),imageUrl:f&&u.imageUrl||""}]),m({id:"",text:"",imageUrl:""}),v(!1))}function w(){(p.text.trim()||p.imageUrl)&&(l([...a,{id:"right_".concat(Date.now()),text:p.text.trim(),imageUrl:N&&p.imageUrl||""}]),g({id:"",text:"",imageUrl:""}),y(!1))}return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,s.jsx)(x.I,{id:"statement-text",placeholder:"Ex: Relacione os conceitos com suas defini\xe7\xf5es",value:o,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{children:"Coluna Esquerda"}),t&&t.length>0?(0,s.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.imageUrl&&(0,s.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.text,className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("span",{children:e.text})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{n(t.filter(t=>t.id!==e.id)),c(r.filter(t=>t.left!==e.id))},children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.I,{placeholder:"Item da coluna esquerda",value:u.text,onChange:e=>m({...u,text:e.target.value}),onKeyDown:e=>"Enter"===e.key&&!f&&D()}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"show-left-image",checked:f,onCheckedChange:v}),(0,s.jsx)(j._,{htmlFor:"show-left-image",children:"Adicionar imagem"})]}),f&&(0,s.jsx)(x.I,{placeholder:"URL da imagem",value:u.imageUrl||"",onChange:e=>m({...u,imageUrl:e.target.value})}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:D,disabled:!u.text.trim()&&(!f||!u.imageUrl),className:"w-full",children:"Adicionar"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{children:"Coluna Direita"}),a&&a.length>0?(0,s.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.imageUrl&&(0,s.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.text,className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("span",{children:e.text})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{l(a.filter(t=>t.id!==e.id)),c(r.filter(t=>t.right!==e.id))},children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]},e.id))}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.I,{placeholder:"Item da coluna direita",value:p.text,onChange:e=>g({...p,text:e.target.value}),onKeyDown:e=>"Enter"===e.key&&!N&&w()}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"show-right-image",checked:N,onCheckedChange:y}),(0,s.jsx)(j._,{htmlFor:"show-right-image",children:"Adicionar imagem"})]}),N&&(0,s.jsx)(x.I,{placeholder:"URL da imagem",value:p.imageUrl||"",onChange:e=>g({...p,imageUrl:e.target.value})}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:w,disabled:!p.text.trim()&&(!N||!p.imageUrl),className:"w-full",children:"Adicionar"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,s.jsx)(j._,{children:"Correspond\xeancias Corretas"}),r&&r.length>0?(0,s.jsx)("div",{className:"space-y-2",children:r.map((e,i)=>{let o=null==t?void 0:t.find(t=>t.id===e.left),n=null==a?void 0:a.find(t=>t.id===e.right);return o&&n?(0,s.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[o.imageUrl&&(0,s.jsx)("img",{src:o.imageUrl||"/placeholder.svg",alt:o.text,className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("span",{className:"font-medium",children:o.text})]}),(0,s.jsx)("span",{className:"text-muted-foreground",children:""}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[n.imageUrl&&(0,s.jsx)("img",{src:n.imageUrl||"/placeholder.svg",alt:n.text,className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("span",{children:n.text})]})]}),(0,s.jsx)(h.z,{variant:"ghost",size:"sm",onClick:()=>{var t,a;return t=e.left,a=e.right,void c(r.filter(e=>!(e.left===t&&e.right===a)))},children:(0,s.jsx)(X.Z,{className:"h-4 w-4 text-muted-foreground"})})]},i):null})}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhuma correspond\xeancia definida."}),(null==t?void 0:t.length)&&(null==a?void 0:a.length)?(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsxs)(A.Ph,{value:b.left,onValueChange:e=>C({...b,left:e}),children:[(0,s.jsx)(A.i4,{className:"flex-1",children:(0,s.jsx)(A.ki,{placeholder:"Item da esquerda"})}),(0,s.jsx)(A.Bw,{children:t.map(e=>(0,s.jsx)(A.Ql,{value:e.id,children:e.text},e.id))})]}),(0,s.jsxs)(A.Ph,{value:b.right,onValueChange:e=>C({...b,right:e}),children:[(0,s.jsx)(A.i4,{className:"flex-1",children:(0,s.jsx)(A.ki,{placeholder:"Item da direita"})}),(0,s.jsx)(A.Bw,{children:a.map(e=>(0,s.jsx)(A.Ql,{value:e.id,children:e.text},e.id))})]}),(0,s.jsx)(h.z,{type:"button",size:"sm",onClick:function(){b.left&&b.right&&(c([...r,{left:b.left,right:b.right}]),C({left:"",right:""}))},disabled:!b.left||!b.right,children:"Adicionar"})]}):(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Adicione itens em ambas as colunas para criar correspond\xeancias."})]})]})}function ex(e){let{title:t,description:a,imageUrl:i,showImage:r,onTitleChange:o,onDescriptionChange:n,onImageUrlChange:l,onShowImageChange:c,isCorrect:d}=e,u=d?"correct":"incorrect";return(0,s.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,s.jsxs)("h3",{className:"font-medium text-lg",children:["Explica\xe7\xe3o da Resposta ",d?"Correta":"Incorreta"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"".concat(u,"-explanation-title"),children:"T\xedtulo"}),(0,s.jsx)(x.I,{id:"".concat(u,"-explanation-title"),placeholder:"Ex: Resposta ".concat(d?"Correta":"Incorreta","!"),value:t,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"".concat(u,"-explanation-description"),children:"Descri\xe7\xe3o"}),(0,s.jsx)(g,{id:"".concat(u,"-explanation-description"),placeholder:"Ex: ".concat(d?"Parab\xe9ns! Voc\xea acertou porque...":"Voc\xea errou porque..."),value:a,onChange:e=>n(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(G,{id:"show-".concat(u,"-explanation-image"),checked:r,onCheckedChange:c}),(0,s.jsx)(j._,{htmlFor:"show-".concat(u,"-explanation-image"),children:"Adicionar imagem"})]}),r&&(0,s.jsx)(x.I,{placeholder:"URL da imagem para resposta ".concat(d?"correta":"incorreta"),value:i||"",onChange:e=>l(e.target.value)})]})]})}let ep=[{value:es.c.trueOrFalse,label:"Verdadeiro ou Falso"},{value:es.c.multipleChoice,label:"M\xfaltipla Escolha"},{value:es.c.ORDERING,label:"Ordena\xe7\xe3o"},{value:es.c.MATCHING,label:"Correspond\xeancia"}];function eg(e){var t,a,r,o,n,l;let{open:c,onOpenChange:d,onSubmit:u,isSubmitting:m,initialQuestion:p,isEditing:f=!1,title:v,description:y,submitLabel:b}=e,[C,D]=(0,i.useState)({}),[w,E]=(0,i.useState)(!1),[S,z]=(0,i.useState)(!1),[T,U]=(0,i.useState)(!1),[k,I]=(0,i.useState)(!1),_=()=>({type:es.c.trueOrFalse,description:"",descriptionImageUrl:"",isTrue:!1,options:[],correctOptions:[],multipleCorrect:!1,items:[],correctOrder:[],statementText:"",leftColumn:[],rightColumn:[],correctMatches:[],correctExplanation:{title:"",description:"",imageUrl:""},incorrectExplanation:{title:"",description:"",imageUrl:""}});(0,i.useEffect)(()=>{if(c){if(console.log("\uD83D\uDE80 Inicializando di\xe1logo"),console.log("\uD83D\uDE80 isEditing:",f),console.log("\uD83D\uDE80 initialQuestion:",p),console.log("\uD83D\uDE80 initialQuestion?.id:",null==p?void 0:p.id),f&&p){var e,t;console.log("\uD83D\uDCDD CARREGANDO QUEST\xc3O PARA EDI\xc7\xc3O"),console.log("\uD83D\uDCDD ID da quest\xe3o:",p.id),console.log("\uD83D\uDCDD Tipo da quest\xe3o:",p.type),console.log("\uD83D\uDCDD Dados completos:",p);let a={id:p.id,type:p.type,description:p.description||"",descriptionImageUrl:p.descriptionImageUrl||"",explanation:p.explanation||"",isTrue:p.isTrue,statementText:p.statementText||"",options:Array.isArray(p.options)?[...p.options]:[],correctOptions:Array.isArray(p.correctOptions)?[...p.correctOptions]:[],items:Array.isArray(p.items)?[...p.items]:[],correctOrder:Array.isArray(p.correctOrder)?[...p.correctOrder]:[],leftColumn:Array.isArray(p.leftColumn)?[...p.leftColumn]:[],rightColumn:Array.isArray(p.rightColumn)?[...p.rightColumn]:[],correctMatches:Array.isArray(p.correctMatches)?[...p.correctMatches]:[],multipleCorrect:p.multipleCorrect||!1,correctExplanation:p.correctExplanation?{title:p.correctExplanation.title||"",description:p.correctExplanation.description||"",imageUrl:p.correctExplanation.imageUrl||""}:{title:"",description:"",imageUrl:""},incorrectExplanation:p.incorrectExplanation?{title:p.incorrectExplanation.title||"",description:p.incorrectExplanation.description||"",imageUrl:p.incorrectExplanation.imageUrl||""}:{title:"",description:"",imageUrl:""}};console.log("\uD83D\uDCDD Dados processados para carregamento:",a),D(a),E(!!(null===(e=p.correctExplanation)||void 0===e?void 0:e.imageUrl)),z(!!(null===(t=p.incorrectExplanation)||void 0===t?void 0:t.imageUrl)),U(!!p.descriptionImageUrl)}else{console.log(" NOVA QUEST\xc3O");let e=_();console.log(" Dados padr\xe3o:",e),D(e),E(!1),z(!1),U(!1)}I(!0)}},[c,f,null==p?void 0:p.id,null==p?void 0:p.type]),(0,i.useEffect)(()=>{c||(console.log("\uD83D\uDEAA Fechando di\xe1logo - resetando estado"),I(!1),D({}),E(!1),z(!1),U(!1))},[c]);let O=async()=>{console.log("\uD83D\uDCE4 Enviando quest\xe3o:",C),console.log("\uD83D\uDCE4 Tipo da quest\xe3o:",C.type);let e={...C,type:C.type,descriptionImageUrl:T&&C.descriptionImageUrl||""};console.log("\uD83D\uDCE4 Quest\xe3o final para envio:",e),await u(e)};return(console.log("\uD83D\uDD0D Estado atual:"),console.log("\uD83D\uDD0D question.type:",C.type),console.log("\uD83D\uDD0D open:",c),console.log("\uD83D\uDD0D isEditing:",f),console.log("\uD83D\uDD0D isInitialized:",k),c&&!k)?null:(0,s.jsx)(N.Vq,{open:c,onOpenChange:d,children:(0,s.jsxs)(N.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsxs)(N.fK,{children:[(0,s.jsx)(N.$N,{children:v}),(0,s.jsx)(N.Be,{children:y})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"question-type",children:"Tipo de Quest\xe3o"}),(0,s.jsxs)(A.Ph,{value:C.type||es.c.trueOrFalse,onValueChange:e=>{if(console.log("\uD83D\uDD04 Tipo de quest\xe3o alterado de:",C.type,"para:",e),f){console.log(" N\xe3o \xe9 poss\xedvel alterar o tipo durante a edi\xe7\xe3o");return}D({...C,type:e})},disabled:f,children:[(0,s.jsx)(A.i4,{id:"question-type",children:(0,s.jsx)(A.ki,{placeholder:"Selecione o tipo"})}),(0,s.jsx)(A.Bw,{children:ep.map(e=>(0,s.jsx)(A.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(j._,{htmlFor:"question-description",children:"Descri\xe7\xe3o da quest\xe3o (opcional)"}),(0,s.jsx)(g,{id:"question-description",placeholder:"Ex: React Native permite escrever c\xf3digo uma vez e executar em m\xfaltiplas plataformas.",value:C.description||"",onChange:e=>D({...C,description:e.target.value})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eo.X,{id:"show-description-image",checked:T,onCheckedChange:e=>{U(e),e||D({...C,descriptionImageUrl:""})}}),(0,s.jsx)(j._,{htmlFor:"show-description-image",className:"text-sm",children:"Adicionar imagem \xe0 descri\xe7\xe3o"})]}),T&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j._,{htmlFor:"description-image-url",children:"URL da Imagem da Descri\xe7\xe3o"}),(0,s.jsx)(x.I,{id:"description-image-url",type:"url",placeholder:"https://exemplo.com/imagem.jpg",value:C.descriptionImageUrl||"",onChange:e=>D({...C,descriptionImageUrl:e.target.value})}),C.descriptionImageUrl&&(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(j._,{className:"text-sm text-gray-600",children:"Preview da imagem:"}),(0,s.jsx)("div",{className:"mt-1 border rounded-md p-2",children:(0,s.jsx)("img",{src:C.descriptionImageUrl||"/placeholder.svg",alt:"Preview da descri\xe7\xe3o",className:"max-w-full h-auto max-h-48 object-contain",onError:e=>{e.target.style.display="none"}})})]})]})]}),(()=>{switch(console.log("\uD83C\uDFA8 Renderizando formul\xe1rio para tipo:",C.type),C.type){case es.c.trueOrFalse:return(0,s.jsx)(el,{isTrue:C.isTrue||!1,onChange:e=>D({...C,isTrue:e}),onStatementTextChange:e=>D({...C,statementText:e}),statementText:C.statementText||""});case es.c.multipleChoice:return(0,s.jsx)(ec,{options:C.options||[],correctOptions:C.correctOptions||[],multipleCorrect:C.multipleCorrect||!1,onOptionsChange:e=>D({...C,options:e}),onCorrectOptionsChange:e=>D({...C,correctOptions:e}),onMultipleCorrectChange:e=>D({...C,multipleCorrect:e}),onStatementTextChange:e=>D({...C,statementText:e}),statementText:C.statementText||""});case es.c.ORDERING:return(0,s.jsx)(em,{items:C.items||[],correctOrder:C.correctOrder||[],statementText:C.statementText||"",onItemsChange:e=>{console.log("\uD83D\uDCDD Items atualizados:",e),D(t=>({...t,items:e}))},onCorrectOrderChange:e=>{console.log("\uD83D\uDCDD Ordem atualizada:",e),D(t=>({...t,correctOrder:e}))},onStatementTextChange:e=>D(t=>({...t,statementText:e}))});case es.c.MATCHING:return(0,s.jsx)(eh,{leftColumn:C.leftColumn||[],rightColumn:C.rightColumn||[],correctMatches:C.correctMatches||[],statementText:C.statementText||"",onLeftColumnChange:e=>{console.log("\uD83D\uDCDD Coluna esquerda atualizada:",e),D({...C,leftColumn:e})},onRightColumnChange:e=>{console.log("\uD83D\uDCDD Coluna direita atualizada:",e),D({...C,rightColumn:e})},onCorrectMatchesChange:e=>{console.log("\uD83D\uDCDD Correspond\xeancias atualizadas:",e),D({...C,correctMatches:e})},onStatementTextChange:e=>D({...C,statementText:e})});default:return console.warn(" Tipo de quest\xe3o n\xe3o reconhecido:",C.type),null}})(),(0,s.jsx)(ex,{title:(null===(t=C.correctExplanation)||void 0===t?void 0:t.title)||"",description:(null===(a=C.correctExplanation)||void 0===a?void 0:a.description)||"",imageUrl:null===(r=C.correctExplanation)||void 0===r?void 0:r.imageUrl,showImage:w,onTitleChange:e=>D({...C,correctExplanation:{...C.correctExplanation,title:e}}),onDescriptionChange:e=>D({...C,correctExplanation:{...C.correctExplanation,description:e}}),onImageUrlChange:e=>D({...C,correctExplanation:{...C.correctExplanation,imageUrl:e}}),onShowImageChange:E,isCorrect:!0}),(0,s.jsx)(ex,{title:(null===(o=C.incorrectExplanation)||void 0===o?void 0:o.title)||"",description:(null===(n=C.incorrectExplanation)||void 0===n?void 0:n.description)||"",imageUrl:null===(l=C.incorrectExplanation)||void 0===l?void 0:l.imageUrl,showImage:S,onTitleChange:e=>D({...C,incorrectExplanation:{...C.incorrectExplanation,title:e}}),onDescriptionChange:e=>D({...C,incorrectExplanation:{...C.incorrectExplanation,description:e}}),onImageUrlChange:e=>D({...C,incorrectExplanation:{...C.incorrectExplanation,imageUrl:e}}),onShowImageChange:z,isCorrect:!1}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[f&&(0,s.jsx)(h.z,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),(0,s.jsx)(h.z,{onClick:O,disabled:m||!(()=>{var e,t;let a=null===(e=C.description)||void 0===e?void 0:e.trim(),s=T&&(null===(t=C.descriptionImageUrl)||void 0===t?void 0:t.trim());return a||s})(),className:f?"":"w-full",children:m?"Processando...":b})]})]})]})})}async function ej(e){try{let t=(0,B.v0)().currentUser;if(!t)throw Error("Usu\xe1rio n\xe3o autenticado");let a=await t.getIdToken();console.log("\uD83D\uDD25 === ENVIANDO PARA FIREBASE ==="),console.log("\uD83D\uDD25 Trilha original:",e),e.etapas.forEach((e,t)=>{e.stages.forEach((e,a)=>{e.questions&&e.questions.length>0&&(console.log("\uD83D\uDD25 Etapa ".concat(t," - Stage ").concat(a," - Quest\xf5es ANTES da limpeza:")),e.questions.forEach((e,t)=>{console.log("  ".concat(t+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))}))})});let s=function e(t){if(!t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("object"!=typeof t||null===t)return t;let a={...t};return delete a.concluida,delete a.completed,delete a.isCompleted,delete a.completedAt,delete a.completedBy,delete a.progress,Object.keys(a).forEach(t=>{Array.isArray(a[t])?a[t]=a[t].map(t=>"object"==typeof t&&null!==t?e(t):t):"object"==typeof a[t]&&null!==a[t]&&(a[t]=e(a[t]))}),a}(e);console.log("\uD83D\uDD25 Trilha ap\xf3s limpeza:",s),s.etapas.forEach((e,t)=>{e.stages.forEach((e,a)=>{e.questions&&e.questions.length>0&&(console.log("\uD83D\uDD25 Etapa ".concat(t," - Stage ").concat(a," - Quest\xf5es AP\xd3S a limpeza:")),e.questions.forEach((e,t)=>{console.log("  ".concat(t+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))}))})});let i=JSON.stringify(s);console.log("\uD83D\uDD25 JSON que ser\xe1 enviado:",i);let r=await fetch("".concat("https://uido-d43da-default-rtdb.firebaseio.com/","/trilhas/").concat(e.id,".json?auth=").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:i});if(!r.ok)throw Error("Erro ao atualizar trilha: "+r.statusText);console.log("\uD83D\uDD25 Resposta do Firebase:",await r.text()),console.log(" Trilha atualizada com sucesso no Firebase")}catch(e){throw console.error(" Erro ao atualizar trilha no Firebase:",e),Error("Erro ao atualizar trilha no Firebase: "+e.message)}}function ef(e){let{selectedTrilha:t,selectedEtapa:a,selectedStage:r,refetch:o,navigateToStages:l,setSelectedTrilha:c,setSelectedEtapa:d,setSelectedStage:u}=e,{token:m}=(0,n.a)(),[x,p]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!1),[f,v]=(0,i.useState)(null),[N,y]=(0,i.useState)(!1);async function C(e){var s,i,o,n,l,m;let h=null===(s=e.description)||void 0===s?void 0:s.trim(),x=null===(i=e.descriptionImageUrl)||void 0===i?void 0:i.trim();if(!t||!a||!r||!h&&!x){h||x||S.A.error("A quest\xe3o deve ter pelo menos uma descri\xe7\xe3o ou uma imagem");return}try{p(!0);let s={id:"question_".concat(Date.now()),type:e.type,description:(null===(o=e.description)||void 0===o?void 0:o.trim())||"",descriptionImageUrl:(null===(n=e.descriptionImageUrl)||void 0===n?void 0:n.trim())||"",...function(e){switch(e.type){case es.c.trueOrFalse:return{isTrue:e.isTrue||!1,statementText:e.statementText||""};case es.c.multipleChoice:return{options:e.options||[],correctOptions:e.correctOptions||[],multipleCorrect:e.multipleCorrect||!1,statementText:e.statementText||""};case es.c.ORDERING:return{items:e.items||[],correctOrder:e.correctOrder||[],statementText:e.statementText||""};case es.c.MATCHING:return{leftColumn:e.leftColumn||[],rightColumn:e.rightColumn||[],correctMatches:e.correctMatches||[],statementText:e.statementText||""};default:return{}}}(e),correctExplanation:e.correctExplanation,incorrectExplanation:e.incorrectExplanation};console.log(" Nova quest\xe3o criada:",s),console.log(" Tipo final da nova quest\xe3o:",s.type),console.log(" Quest\xf5es existentes ANTES:"),null===(l=r.questions)||void 0===l||l.forEach((e,t)=>{console.log("  ".concat(t+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))});let i={...r,questions:[...r.questions||[],s]};console.log(" Quest\xf5es AP\xd3S adicionar:"),null===(m=i.questions)||void 0===m||m.forEach((e,t)=>{console.log("  ".concat(t+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))});let h={...a,stages:a.stages.map(e=>e.id===r.id?i:e)},x={...t,etapas:t.etapas.map(e=>e.id===a.id?h:e)};console.log(" Enviando trilha atualizada para Firebase..."),await ej(x),c(x),d(h),u(i),S.A.success("Quest\xe3o adicionada com sucesso!"),j(!1),console.log(" Quest\xe3o adicionada com sucesso!")}catch(e){console.error(" Erro ao adicionar quest\xe3o:",e),S.A.error("Erro ao adicionar quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel adicionar a quest\xe3o."})}finally{p(!1)}}async function D(e){var s,i,o,n,l;let m=null===(s=e.description)||void 0===s?void 0:s.trim(),h=null===(i=e.descriptionImageUrl)||void 0===i?void 0:i.trim();if(!t||!a||!r||!f||!m&&!h){m||h||S.A.error("A quest\xe3o deve ter pelo menos uma descri\xe7\xe3o ou uma imagem");return}try{y(!0),console.log("\uD83D\uDD04 === ATUALIZANDO QUEST\xc3O ==="),console.log("\uD83D\uDD04 ID da quest\xe3o:",f.id),console.log("\uD83D\uDD04 Tipo original:",f.type),console.log("\uD83D\uDD04 Quest\xe3o original completa:",f),console.log("\uD83D\uDD04 Dados atualizados:",e);let s={...f,...e,id:f.id,type:f.type,description:(null===(o=e.description)||void 0===o?void 0:o.trim())||f.description||"",descriptionImageUrl:(null===(n=e.descriptionImageUrl)||void 0===n?void 0:n.trim())||f.descriptionImageUrl||""};console.log("\uD83D\uDD04 Quest\xe3o final atualizada:",s),console.log("\uD83D\uDD04 Tipo final:",s.type);let i={...r,questions:(null!==(l=r.questions)&&void 0!==l?l:[]).map(e=>e.id===f.id?s:e)},m={...a,stages:a.stages.map(e=>e.id===r.id?i:e)},h={...t,etapas:t.etapas.map(e=>e.id===a.id?m:e)};console.log("\uD83D\uDD04 Salvando no Firebase..."),await ej(h),console.log("\uD83D\uDD04 Atualizando estados locais..."),c(h),d(m),u(i),v(null),j(!1),S.A.success("Quest\xe3o atualizada com sucesso!"),console.log(" Quest\xe3o atualizada com sucesso!")}catch(e){console.error(" Erro ao atualizar quest\xe3o:",e),S.A.error("Erro ao atualizar quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel atualizar a quest\xe3o."})}finally{y(!1)}}async function w(e){if(t&&a&&r)try{var s;let i={...r,questions:(null!==(s=r.questions)&&void 0!==s?s:[]).filter(t=>t.id!==e)},o={...a,stages:a.stages.map(e=>e.id===r.id?i:e)},n={...t,etapas:t.etapas.map(e=>e.id===a.id?o:e)};await ej(n),c(n),d(o),u(i),S.A.success("Quest\xe3o exclu\xedda com sucesso!")}catch(e){console.error("Erro ao excluir quest\xe3o:",e),S.A.error("Erro ao excluir quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel excluir a quest\xe3o."})}}return console.log("\uD83D\uDD0D Estado atual do painel:"),console.log("\uD83D\uDD0D editingQuestion:",f),console.log("\uD83D\uDD0D editingQuestion?.type:",null==f?void 0:f.type),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>l(a),className:"flex items-center gap-1",children:[(0,s.jsx)(k.Z,{size:14}),"Voltar"]}),(0,s.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,s.jsx)(ee.Z,{className:"h-5 w-5"}),(0,s.jsxs)("span",{children:["Quest\xf5es: ",(0,s.jsx)("span",{className:"text-marca",children:r.title})]})]})]}),(0,s.jsxs)(h.z,{className:"gap-1 items-center",size:"sm",onClick:()=>j(!0),children:[(0,s.jsx)(b.Z,{size:16}),"Adicionar Quest\xe3o"]})]}),(0,s.jsx)(er,{questions:r.questions||[],onEditQuestion:function(e){console.log("\uD83D\uDD27 === INICIANDO EDI\xc7\xc3O DE QUEST\xc3O ==="),console.log("\uD83D\uDD27 ID da quest\xe3o:",e.id),console.log("\uD83D\uDD27 Tipo original:",e.type),console.log("\uD83D\uDD27 Dados completos:",e);let t={...e,options:e.options||[],correctOptions:e.correctOptions||[],items:e.items||[],correctOrder:e.correctOrder||[],leftColumn:e.leftColumn||[],rightColumn:e.rightColumn||[],correctMatches:e.correctMatches||[]};console.log("\uD83D\uDD27 Quest\xe3o preparada para edi\xe7\xe3o:",t),v(t),j(!0)},onDeleteQuestion:w}),(0,s.jsx)(eg,{open:g,onOpenChange:j,onSubmit:C,isSubmitting:x,title:"Nova Quest\xe3o",description:"Adicione uma nova quest\xe3o ao stage ".concat(r.title,"."),submitLabel:"Adicionar quest\xe3o",isEditing:!1}),f&&(0,s.jsx)(eg,{open:!!f,onOpenChange:e=>{e||v(null)},onSubmit:D,isSubmitting:N,initialQuestion:f,isEditing:!0,title:"Editar Quest\xe3o",description:"Edite as informa\xe7\xf5es da quest\xe3o.",submitLabel:"Salvar"},f.id)]})}var ev=a(10407);function eN(e){let{currentView:t,selectedTrilha:a,selectedEtapa:i,selectedStage:r,navigateToTrilhas:o,navigateToEtapas:n,navigateToStages:l}=e;return(0,s.jsxs)("nav",{className:"flex items-center gap-2 text-sm  p-2 rounded-md",children:[(0,s.jsxs)(h.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:o,children:[(0,s.jsx)(C.Z,{className:"h-4 w-4"}),"Trilhas"]}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)(h.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:()=>n(a),children:[(0,s.jsx)(D.Z,{className:"h-4 w-4"}),a.nome]})]}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)(h.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:()=>l(i),children:[(0,s.jsx)(M,{iconName:i.icon}),i.titulo]})]}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)(h.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",children:[(0,s.jsx)(I.Z,{className:"h-4 w-4"}),r.title]})]})]})}function ey(e){let{trilhas:t,refetch:a}=e,[r,o]=(0,i.useState)("trilhas"),[n,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[u,m]=(0,i.useState)(null);async function h(){o("trilhas"),l(null),d(null),m(null),console.log("\uD83D\uDD04 Navegando para trilhas, fazendo refetch..."),await a()}function x(e){o("etapas"),l(e),d(null),m(null)}function p(e){o("stages"),d(e),m(null)}return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)(eN,{currentView:r,selectedTrilha:n,selectedEtapa:c,selectedStage:u,navigateToTrilhas:h,navigateToEtapas:x,navigateToStages:p}),"trilhas"===r&&(0,s.jsx)(U,{trilhas:t,refetch:a,navigateToEtapas:x}),"etapas"===r&&n&&(0,s.jsx)($,{selectedTrilha:n,refetch:a,navigateToTrilhas:h,navigateToStages:p,setSelectedTrilha:l}),"stages"===r&&n&&c&&(0,s.jsx)(ea,{selectedTrilha:n,selectedEtapa:c,refetch:a,navigateToEtapas:x,navigateToQuestions:function(e){o("questions"),m(e)},setSelectedTrilha:l,setSelectedEtapa:d}),"questions"===r&&n&&c&&u&&(0,s.jsx)(ef,{selectedTrilha:n,selectedEtapa:c,selectedStage:u,refetch:a,navigateToStages:p,setSelectedTrilha:l,setSelectedEtapa:d,setSelectedStage:m})]})}var eb=a(434),eC=a(75547);function eD(){let{isAuthenticated:e,isLoading:t,showLoadingTransition:a}=(0,n.a)(),{trilhas:c,isLoading:d,error:m,refetch:h}=(0,l.w)(),x=(0,r.useRouter)();if((0,i.useEffect)(()=>{t||e||x.push("/")},[e,t,x]),t||d||a)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Y,{}),(0,s.jsx)("div",{className:"sm:ml-64 p-4",children:(0,s.jsx)(u,{})})]});let p=c.map(e=>({...e,title:"string"==typeof e.nome?e.nome:String(e.nome),nome:"string"==typeof e.nome?e.nome:String(e.nome),descricao:"string"==typeof e.descricao?e.descricao:String(e.descricao),backgroundSvg:e.backgroundSvg||"",etapas:e.etapas.map(e=>({...e,title:"string"==typeof e.titulo?e.titulo:String(e.titulo),nome:"string"==typeof e.titulo?e.titulo:String(e.titulo),titulo:"string"==typeof e.titulo?e.titulo:String(e.titulo),descricao:"string"==typeof e.descricao?e.descricao:String(e.descricao),icon:e.icon||e.icone||"",iconLibrary:e.iconLibrary||"",imageUrl:e.imageUrl||"",stages:e.stages||[]}))}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eb.V,{title:"Painel"}),(0,s.jsx)(o.Y,{}),(0,s.jsx)("div",{className:"container mx-auto p-4 sm:p-6 max-w-7xl sm:ml-64",children:(0,s.jsx)(ey,{trilhas:p,refetch:h})})]})}function ew(){return(0,s.jsx)(eC.i,{requireAdmin:!0,children:(0,s.jsx)(eD,{})})}},434:function(e,t,a){"use strict";a.d(t,{V:function(){return i}});var s=a(2265);function i(e){let{title:t}=e;return(0,s.useEffect)(()=>{document.title="UIDO | ".concat(t)},[t]),null}},75547:function(e,t,a){"use strict";a.d(t,{i:function(){return l}});var s=a(57437),i=a(2265),r=a(99376),o=a(45478),n=a(51817);function l(e){let{children:t,requireAdmin:a=!0}=e,{user:l,isLoading:c,isAuthenticated:d}=(0,o.a)(),u=(0,r.useRouter)();return((0,i.useEffect)(()=>{if(!c&&(!d||a&&(null==l?void 0:l.role)!=="admin")){u.push("/");return}},[d,c,l,u,a]),c)?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(n.Z,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Verificando autentica\xe7\xe3o..."})]})}):!d||a&&(null==l?void 0:l.role)!=="admin"?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(n.Z,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Redirecionando..."})]})}):(0,s.jsx)(s.Fragment,{children:t})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return n}});var s=a(57437);a(2265);var i=a(90535),r=a(93448);let o=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...i}=e;return(0,s.jsx)("div",{className:(0,r.cn)(o({variant:a}),t),...i})}},68245:function(e,t,a){"use strict";a.d(t,{X:function(){return l}});var s=a(57437),i=a(2265),r=a(9270),o=a(30401),n=a(93448);let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.fC,{ref:t,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-marca data-[state=checked]:text-primary-foreground",a),...i,children:(0,s.jsx)(r.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})})});l.displayName=r.fC.displayName},40279:function(e,t,a){"use strict";a.d(t,{I:function(){return o}});var s=a(57437),i=a(2265),r=a(93448);let o=i.forwardRef((e,t)=>{let{className:a,type:i,...o}=e;return(0,s.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm  file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...o})});o.displayName="Input"},75060:function(e,t,a){"use strict";a.d(t,{_:function(){return c}});var s=a(57437),i=a(2265),r=a(6394),o=a(90535),n=a(93448);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,n.cn)(l(),a),...i})});c.displayName=r.f.displayName},15291:function(e,t,a){"use strict";a.d(t,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return g},i4:function(){return m},ki:function(){return u}});var s=a(57437),i=a(2265),r=a(93402),o=a(40875),n=a(22135),l=a(30401),c=a(93448);let d=r.fC;r.ZA;let u=r.B4,m=i.forwardRef((e,t)=>{let{className:a,children:i,...n}=e;return(0,s.jsxs)(r.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[i,(0,s.jsx)(r.JO,{asChild:!0,children:(0,s.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.xz.displayName;let h=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})});h.displayName=r.u_.displayName;let x=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})});x.displayName=r.$G.displayName;let p=i.forwardRef((e,t)=>{let{className:a,children:i,position:o="popper",...n}=e;return(0,s.jsx)(r.h_,{children:(0,s.jsxs)(r.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...n,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,s.jsx)(x,{})]})})});p.displayName=r.VY.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...i})}).displayName=r.__.displayName;let g=i.forwardRef((e,t)=>{let{className:a,children:i,...o}=e;return(0,s.jsxs)(r.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(r.eT,{children:i})]})});g.displayName=r.ck.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...i})}).displayName=r.Z0.displayName},69140:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});var s=a(57437),i=a(93448);function r(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",t),...a})}},33804:function(e,t,a){"use strict";a.d(t,{RM:function(){return l},SC:function(){return c},iA:function(){return o},pj:function(){return u},ss:function(){return d},xD:function(){return n}});var s=a(57437),i=a(2265),r=a(93448);let o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",a),...i})})});o.displayName="Table";let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",a),...i})});n.displayName="TableHeader";let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...i})});l.displayName="TableBody",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...i})}).displayName="TableFooter";let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...i})});c.displayName="TableRow";let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...i})});d.displayName="TableHead";let u=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...i})});u.displayName="TableCell",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...i})}).displayName="TableCaption"},17168:function(e,t,a){"use strict";a.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return n},nU:function(){return d}});var s=a(57437),i=a(2265),r=a(20271),o=a(93448);let n=r.fC,l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});l.displayName=r.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.xz,{ref:t,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});c.displayName=r.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(r.VY,{ref:t,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});d.displayName=r.VY.displayName},99544:function(e,t,a){"use strict";a.d(t,{w:function(){return c}});var s=a(2265),i=a(41121),r=a(45478),o=a(37595),n=a(22507);let l=[{id:"1",nome:"React Native B\xe1sico",descricao:"Aprenda os fundamentos do React Native",image:"https://url-para-imagem-rio.svg",backgroundSvg:"https://url-para-background1.svg",etapas:[{id:"2",titulo:"Componentes B\xe1sicos",descricao:"Aprenda sobre os componentes fundamentais",icon:"book-open-text",iconLibrary:"lucide",imageUrl:"",stages:[{id:"stage1",title:"Introdu\xe7\xe3o aos Componentes",description:"Conceitos b\xe1sicos de componentes React Native",image:"https://reactnative.dev/img/tiny_logo.png",video:"https://www.youtube.com/watch?v=0-S5a0eXPoc",tempo_estimado:"15-20 minutos",pontos_chave:["Entender o que s\xe3o componentes no React Native","Conhecer os componentes b\xe1sicos da plataforma","Aprender a criar componentes personalizados"],questions:[{id:"q1",type:o.c.trueOrFalse,description:"React Native permite escrever c\xf3digo uma vez e executar em m\xfaltiplas plataformas.",isTrue:!0,explanation:"Correto! React Native permite que voc\xea escreva c\xf3digo JavaScript que funciona tanto em iOS quanto em Android."}],completed:void 0}],icone:""}]},{id:"2",nome:"Flutter B\xe1sico",descricao:"Aprenda os fundamentos do Flutter",image:"https://url-para-imagem-flutter.svg",backgroundSvg:"",etapas:[{id:"3",titulo:"Widgets B\xe1sicos",descricao:"Aprenda sobre os widgets fundamentais",icon:"layout",iconLibrary:"lucide",imageUrl:"",stages:[{id:"stage1",title:"Introdu\xe7\xe3o aos Widgets",description:"Conceitos b\xe1sicos de widgets Flutter",tempo_estimado:"15-20 minutos",pontos_chave:["Entender o que s\xe3o widgets no Flutter","Conhecer os widgets b\xe1sicos da plataforma","Aprender a criar widgets personalizados"],questions:[{id:"q2",type:o.c.multipleChoice,description:"Qual \xe9 a linguagem principal usada no Flutter?",options:[{id:"opt1",text:"JavaScript"},{id:"opt2",text:"Dart"},{id:"opt3",text:"Java"},{id:"opt4",text:"Swift"}],correctOptions:["opt2"],explanation:"Flutter usa Dart como linguagem principal de desenvolvimento."}],completed:void 0}],icone:""}]}];function c(){let[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),{isAuthenticated:u,token:m}=(0,r.a)(),h=(0,s.useCallback)(async()=>{if(o(!0),d(null),"true"===localStorage.getItem("modo_simulado")){await new Promise(e=>setTimeout(e,800)),t(l),o(!1);return}if(!u||!m){t([]),o(!1);return}try{let e=await i.hi.trails.getAll();if(e&&e.data&&Array.isArray(e.data)){let a=e.data.map(e=>{var t;return{id:e.id,title:e.title||e.nome,nome:e.nome,descricao:e.descricao,image:e.image,backgroundSvg:e.backgroundSvg||"",etapas:(null===(t=e.etapas)||void 0===t?void 0:t.map(e=>{var t;return{id:e.id,title:e.title||e.titulo,titulo:e.titulo,descricao:e.descricao,icon:e.icon,iconLibrary:e.iconLibrary,imageUrl:e.imageUrl||"",stages:(null===(t=e.stages)||void 0===t?void 0:t.map(e=>{var t;return{...e,questions:(null===(t=e.questions)||void 0===t?void 0:t.map(e=>(0,n.hn)({...e})))||[]}}))||[]}}))||[]}});t(a)}else e&&200===e.status&&Array.isArray(e.data)?t(e.data):d("Formato de resposta inesperado da API")}catch(e){d(e.message||"N\xe3o foi poss\xedvel carregar as trilhas. Tente novamente mais tarde.")}finally{o(!1)}},[u,m]);return(0,s.useEffect)(()=>{h()},[h]),{trilhas:e,isLoading:a,error:c,refetch:h}}},37595:function(e,t,a){"use strict";var s,i;a.d(t,{c:function(){return s}}),(i=s||(s={})).trueOrFalse="trueOrFalse",i.multipleChoice="multipleChoice",i.ORDERING="ordering",i.MATCHING="matching"},22507:function(e,t,a){"use strict";a.d(t,{hn:function(){return i}});var s=a(37595);function i(e){var t,a,i,r,o,n,l;let c=(console.log("\uD83D\uDD0D Detectando tipo da quest\xe3o:",e.id),console.log("\uD83D\uDD0D Propriedades da quest\xe3o:",{hasLeftColumn:!!(null===(t=e.leftColumn)||void 0===t?void 0:t.length),hasRightColumn:!!(null===(a=e.rightColumn)||void 0===a?void 0:a.length),hasCorrectMatches:!!(null===(i=e.correctMatches)||void 0===i?void 0:i.length),hasItems:!!(null===(r=e.items)||void 0===r?void 0:r.length),hasCorrectOrder:!!(null===(o=e.correctOrder)||void 0===o?void 0:o.length),hasOptions:!!(null===(n=e.options)||void 0===n?void 0:n.length),hasCorrectOptions:!!(null===(l=e.correctOptions)||void 0===l?void 0:l.length),hasIsTrue:e.hasOwnProperty("isTrue"),currentType:e.type}),e.leftColumn&&e.leftColumn.length>0&&e.rightColumn&&e.rightColumn.length>0&&e.correctMatches&&e.correctMatches.length>0)?(console.log(" Detectado como MATCHING"),s.c.MATCHING):e.items&&e.items.length>0&&e.correctOrder&&e.correctOrder.length>0?(console.log(" Detectado como ORDERING"),s.c.ORDERING):e.options&&e.options.length>0&&e.correctOptions&&e.correctOptions.length>0?(console.log(" Detectado como multipleChoice"),s.c.multipleChoice):e.hasOwnProperty("isTrue")?(console.log(" Detectado como trueOrFalse"),s.c.trueOrFalse):e.type&&Object.values(s.c).includes(e.type)?(console.log(" Mantendo tipo existente:",e.type),e.type):(console.log(" Fallback para trueOrFalse"),s.c.trueOrFalse);return(console.log("\uD83D\uDD27 Verificando quest\xe3o ".concat(e.id,":")),console.log("\uD83D\uDD27 Tipo salvo: ".concat(e.type)),console.log("\uD83D\uDD27 Tipo detectado: ".concat(c)),e.type!==c)?(console.log("\uD83D\uDD27 Corrigindo tipo da quest\xe3o ".concat(e.id,": ").concat(e.type,"  ").concat(c)),{...e,type:c}):(console.log(" Tipo da quest\xe3o ".concat(e.id," est\xe1 correto: ").concat(e.type)),e)}}},function(e){e.O(0,[481,982,841,256,350,763,895,478,728,971,117,744],function(){return e(e.s=1154)}),_N_E=e.O()}]);