(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{78635:function(e,a,s){Promise.resolve().then(s.bind(s,32893))},32893:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return eR}});var t=s(57437),i=s(2265),r=s(99376),l=s(10549),n=s(45478),c=s(99544),o=s(69140),d=s(79820);function m(){return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(o.O,{className:"h-8 w-48"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[void 0,void 0].map((e,a)=>(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(o.O,{className:"h-4 w-32"}),(0,t.jsx)(o.O,{className:"h-4 w-4 rounded-full"})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)(o.O,{className:"h-8 w-24 mb-2"}),(0,t.jsx)(o.O,{className:"h-4 w-48"})]})]},"card-".concat(a)))}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(o.O,{className:"h-6 w-40"})}),(0,t.jsx)(d.aY,{className:"space-y-4",children:[void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsx)(o.O,{className:"h-4 w-full col-span-1"}),(0,t.jsx)(o.O,{className:"h-4 w-full col-span-1"}),(0,t.jsx)(o.O,{className:"h-4 w-12 mx-auto col-span-1"})]},"skeleton-row-".concat(a)))})]})]})}var h=s(69174),x=s(12381),u=s(40279),p=s(93448);let g=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...i})});g.displayName="Textarea";var j=s(75060),v=s(33804),f=s(71488),N=s(74291),y=s(49760),b=s(99397),C=s(71769),w=s(45554),E=s(42208),S=s(45675),z=s(18930),k=s(14438),U=s(41121),T=s(15291),A=s(7204),I=s(53113),_=s(73247),D=s(17689),Z=s(30401),q=s(60062),O=s(52395);let F=[{value:"trilhas",label:"Trilhas"},{value:"etapas",label:"Etapas"},{value:"modais",label:"Modais"},{value:"outros",label:"Outros"}];function R(e){let{selectedImageUrl:a="",onImageSelect:s,buttonText:r="Selecionar da Galeria",placeholder:l="Nenhuma imagem selecionada"}=e,[n,c]=(0,i.useState)(!1),[o,m]=(0,i.useState)(!1),[p,g]=(0,i.useState)([]),[v,f]=(0,i.useState)([]),[y,b]=(0,i.useState)(!1),[C,w]=(0,i.useState)(""),[E,S]=(0,i.useState)("todos"),[z,U]=(0,i.useState)(!1),[R,P]=(0,i.useState)(0),[L,M]=(0,i.useState)(null),[V,Q]=(0,i.useState)(""),B=(0,q.cF)(O.ZP);(0,i.useEffect)(()=>{n&&0===p.length&&J()},[n]),(0,i.useEffect)(()=>{G()},[p,C,E]);let J=async()=>{try{b(!0);let a=[];for(let s of F){let t=(0,q.iH)(B,s.value);try{for(let i of(await (0,q.aF)(t)).items)try{var e;let t=await (0,q.Jt)(i),r=await (0,q.sd)(i);(null===(e=r.contentType)||void 0===e?void 0:e.startsWith("image/"))?a.push({id:i.fullPath,name:i.name,url:t,category:s.value,size:r.size||0,uploadedAt:new Date(r.timeCreated||Date.now()),type:r.contentType||"unknown"}):console.log("Arquivo ignorado (n\xe3o \xe9 imagem): ".concat(i.name,", tipo: ").concat(r.contentType))}catch(e){console.error("Erro ao processar arquivo ".concat(i.name,":"),e)}}catch(e){console.log("Categoria ".concat(s.value," n\xe3o encontrada ou vazia:"),e)}}g(a.sort((e,a)=>a.uploadedAt.getTime()-e.uploadedAt.getTime()))}catch(e){console.error("Erro ao carregar imagens:",e)}finally{b(!1)}},G=()=>{let e=p;"todos"!==E&&(e=e.filter(e=>e.category===E)),C&&(e=e.filter(e=>e.name.toLowerCase().includes(C.toLowerCase()))),f(e)},K=e=>{s(e),c(!1)},Y=async(e,a)=>{try{if(U(!0),P(0),!e.type.startsWith("image/")){k.A.error("Apenas imagens s\xe3o permitidas"),U(!1);return}if(e.size>5242880){k.A.error("Arquivo muito grande. M\xe1ximo 5MB."),U(!1);return}let s=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),t=(0,q.iH)(B,"".concat(a,"/").concat(s)),i=(0,q.B0)(t,e);i.on("state_changed",e=>{let a=e.bytesTransferred/e.totalBytes*100;P(a)},e=>{console.error("Erro no upload:",e),k.A.error("Erro ao fazer upload: ".concat(e.message)),U(!1)},async()=>{try{let e=await (0,q.Jt)(i.snapshot.ref),t=i.snapshot.metadata,r={id:i.snapshot.ref.fullPath,name:s,url:e,category:a,size:t.size||0,uploadedAt:new Date,type:t.contentType||"unknown"};g(e=>[r,...e]),k.A.success("Arquivo enviado com sucesso!"),m(!1),M(null),Q("")}catch(e){console.error("Erro ao obter URL:",e),k.A.error("Erro ao finalizar upload")}finally{U(!1),P(0)}})}catch(e){console.error("Erro ao fazer upload:",e),k.A.error("Erro ao fazer upload do arquivo"),U(!1)}},$=async e=>{if(e.preventDefault(),!L||!V){k.A.error("Selecione um arquivo e uma categoria");return}await Y(L,V)},H=e=>{if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},W=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length<=a?e:e.substring(0,a)+"..."};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"grid gap-2 ",children:(0,t.jsxs)(N.Vq,{open:n,onOpenChange:c,children:[(0,t.jsx)(N.hg,{asChild:!0,children:(0,t.jsxs)(x.z,{type:"button",variant:"default",className:"flex-shrink-0 bg-marca",size:"sm",children:[(0,t.jsx)(I.Z,{className:"w-4 h-4 mr-2"}),r]})}),(0,t.jsxs)(N.cZ,{className:"max-w-3xl max-h-[85vh] flex flex-col",children:[(0,t.jsx)(N.fK,{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(N.$N,{className:"text-xl font-semibold",children:"Galeria de Imagens"}),(0,t.jsxs)(N.Vq,{open:o,onOpenChange:m,children:[(0,t.jsx)(N.hg,{asChild:!0}),(0,t.jsxs)(N.cZ,{children:[(0,t.jsx)(N.fK,{children:(0,t.jsx)(N.$N,{children:"Fazer Upload de Imagem"})}),(0,t.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"upload-file",className:"block text-sm font-medium mb-2",children:"Arquivo"}),(0,t.jsx)(u.I,{id:"upload-file",type:"file",accept:"image/*",onChange:e=>{var a;return M((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},disabled:z})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"upload-category",className:"block text-sm font-medium mb-2",children:"Categoria"}),(0,t.jsxs)(T.Ph,{value:V,onValueChange:Q,disabled:z,children:[(0,t.jsx)(T.i4,{id:"upload-category",children:(0,t.jsx)(T.ki,{placeholder:"Selecione uma categoria"})}),(0,t.jsx)(T.Bw,{children:F.map(e=>(0,t.jsx)(T.Ql,{value:e.value,children:e.label},e.value))})]})]}),z&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Enviando..."}),(0,t.jsxs)("span",{children:[Math.round(R),"%"]})]}),(0,t.jsx)(A.E,{value:R})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(x.z,{type:"button",variant:"outline",onClick:()=>m(!1),disabled:z,children:"Cancelar"}),(0,t.jsx)(x.z,{type:"submit",disabled:!L||!V||z,children:z?"Enviando...":"Fazer Upload"})]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col space-y-4 min-h-0",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(_.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,t.jsx)(u.I,{placeholder:"Buscar imagens...",value:C,onChange:e=>w(e.target.value),className:"pl-10"})]})}),(0,t.jsx)("div",{className:"w-48",children:(0,t.jsxs)(T.Ph,{value:E,onValueChange:S,children:[(0,t.jsx)(T.i4,{children:(0,t.jsx)(T.ki,{placeholder:"Filtrar categoria"})}),(0,t.jsxs)(T.Bw,{children:[(0,t.jsx)(T.Ql,{value:"todos",children:"Todas as categorias"}),F.map(e=>(0,t.jsx)(T.Ql,{value:e.value,children:e.label},e.value))]})]})}),(0,t.jsx)(x.z,{type:"button",variant:"default",onClick:()=>m(!0),size:"sm",className:"bg-marca hover:bg-marca/90 py-5",children:(0,t.jsx)(D.Z,{className:"w-4 h-4 "})})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:y?(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-3",children:Array.from({length:12}).map((e,a)=>(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg animate-pulse"},a))}):0===v.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(I.Z,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma imagem encontrada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:C||"todos"!==E?'Nenhuma imagem encontrada  na categoria "'.concat(E,'"'):"Fa\xe7a upload de imagens na se\xe7\xe3o Arquivos"})]})}):(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-3",children:v.map(e=>{var s;return(0,t.jsxs)(d.Zb,{className:"cursor-pointer t  ".concat(a===e.url?"border-marca border-2":""),onClick:()=>K(e.url),children:[(0,t.jsxs)("div",{className:"aspect-square relative",children:[(0,t.jsx)("img",{src:e.url||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover rounded-t-lg"}),a===e.url&&(0,t.jsx)("div",{className:"absolute top-2 right-2 bg-marca text-white rounded-full p-1 shadow-lg",children:(0,t.jsx)(Z.Z,{className:"w-3 h-3"})}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2 rounded-b-lg",children:(0,t.jsx)(h.C,{variant:"secondary",className:"text-xs",children:null===(s=F.find(a=>a.value===e.category))||void 0===s?void 0:s.label})})]}),(0,t.jsx)(d.aY,{className:"p-2",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h4",{className:"font-medium text-xs truncate",title:e.name,children:W(e.name,15)}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:H(e.size)})]})})]},e.id)})})})]})]})]})}),a&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-muted/50",children:[(0,t.jsx)("img",{src:a||"/placeholder.svg",alt:"Imagem selecionada",className:"w-10 h-10 object-cover rounded"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Imagem selecionada"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:W(a,30)})]}),(0,t.jsx)(x.z,{type:"button",variant:"destructive",size:"sm",onClick:()=>s(""),children:"Remover"})]})}),!a&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:l})]})}function P(e){let{editingTrilha:a,onCancel:s,refetch:r}=e,{token:l}=(0,n.a)(),[c,o]=(0,i.useState)(void 0!==a.nome&&null!==a.nome?String(a.nome):""),[d,m]=(0,i.useState)(void 0!==a.descricao&&null!==a.descricao?String(a.descricao):""),[h,p]=(0,i.useState)("string"==typeof a.backgroundSvg?a.backgroundSvg:""),[v,f]=(0,i.useState)(!1);async function y(){if(c.trim())try{var e;f(!0);let t={id:a.id,nome:c.trim(),descricao:"string"==typeof d?d.trim():"Sem descri\xe7\xe3o",backgroundSvg:"string"==typeof h?h.trim():"",etapas:(e=a.etapas||[],Array.isArray(e)?e.map(e=>{let a={id:e.id,titulo:e.titulo,descricao:e.descricao,icon:e.icon,iconLibrary:e.iconLibrary};return e.imageUrl&&(a.imageUrl=e.imageUrl),Array.isArray(e.stages)&&(a.stages=e.stages.map(e=>{let a={id:e.id,title:e.title,description:e.description,tempo_estimado:e.tempo_estimado,video:e.video,image:e.image};return Array.isArray(e.pontos_chave)&&(a.pontos_chave=[...e.pontos_chave]),Array.isArray(e.questions)&&(a.questions=e.questions.map(e=>{let a={...e};return delete a.completed,delete a.isCompleted,a})),a})),a}):[]),image:a.image||""};console.log("Trilha ap\xf3s sanitiza\xe7\xe3o:",JSON.stringify(t,null,2)),console.log("Enviando trilha atualizada:",t),await U.hi.trails.update(a.id,t,l||""),s(),k.A.success("Trilha atualizada com sucesso!"),await r()}catch(e){!function(e){if(console.error("Detalhes do erro:",e),e.message&&e.message.includes("Dados inv\xe1lidos")){let a=e.message.match(/"([^"]+)" is not allowed/);a&&a[1]&&console.error("Campo n\xe3o permitido: ".concat(a[1]))}}(e),console.error("Erro ao atualizar trilha:",e),k.A.error("Erro ao atualizar trilha",{description:String(e.message||"Ocorreu um erro ao tentar atualizar a trilha.")})}finally{f(!1)}}return(0,t.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(N.cZ,{children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Editar Trilha"}),(0,t.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es da trilha ",String(a.nome),"."]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-nome-trilha",children:"Nome da trilha"}),(0,t.jsx)(u.I,{id:"edit-nome-trilha",value:c,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-descricao-trilha",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"edit-descricao-trilha",value:d,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-background-trilha",children:"Imagem de fundo (opcional)"}),(0,t.jsx)(R,{selectedImageUrl:h,onImageSelect:e=>{console.log("Imagem de fundo selecionada:",e),p(e)},buttonText:"Selecionar Imagem de Fundo",placeholder:"Nenhuma imagem de fundo selecionada"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:s,children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:y,disabled:!!(v||!c.trim()),children:v?"Salvando...":"Salvar"})]})]})]})})}var L=s(58896),M=s(95805),V=s(76399),Q=s(92369),B=s(66337);function J(e){var a;let{trilha:s,isOpen:i,onClose:r}=e,l=[...s.etapas||[]].reverse(),n=e=>"custom"===e.iconLibrary&&e.imageUrl&&""!==e.imageUrl.trim(),c=e=>n(e)?e.imageUrl||e.icon:e.image||null;return(0,t.jsx)(N.Vq,{open:i,onOpenChange:r,children:(0,t.jsxs)(N.cZ,{className:"max-w-sm p-0 gap-0 bg-transparent border-none shadow-none",children:[(0,t.jsx)("div",{className:"bg-black rounded-[2.5rem] p-2 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden h-[640px] w-full relative flex flex-col",children:[(0,t.jsx)("div",{className:"bg-marca/70 px-4 py-3 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)(h.C,{className:"bg-marca hover:bg-marca text-white text-xs px-3 py-1 rounded-full",children:[(0,t.jsx)(L.Z,{className:"w-3 h-3 mr-1"}),"0 Pontos"]}),(0,t.jsxs)(h.C,{className:"bg-marca hover:bg-marca text-white text-xs px-3 py-1 rounded-full",children:[(0,t.jsx)(M.Z,{className:"w-3 h-3 mr-1"}),"1 dias"]}),(0,t.jsxs)(h.C,{className:"bg-marca hover:bg-marca text-white text-xs px-3 py-1 rounded-full",children:[(0,t.jsx)(V.Z,{className:"w-3 h-3 mr-1"}),"0"]})]})}),(0,t.jsxs)("div",{className:"flex-1 relative overflow-hidden",children:[s.backgroundSvg&&(0,t.jsx)("div",{className:"absolute inset-0  bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(s.backgroundSvg,")"),filter:"blur(1px)"}}),(0,t.jsx)("div",{className:"relative z-10 h-full overflow-y-auto",children:(0,t.jsx)("div",{className:"h-full flex flex-col justify-between py-6 px-8",children:l.map((e,a)=>{let s=a===l.length-1,i=l.length-a,r=c(e);return(0,t.jsx)("div",{className:"relative flex-1 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative flex flex-col items-center mb-8",children:[(0,t.jsxs)("div",{className:"relative",children:[!s&&(0,t.jsx)("div",{className:"absolute -top-3 left-1/3 bg-marca shadow-lg border-2  text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold z-20",children:i}),(0,t.jsxs)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center border-4 overflow-hidden ".concat(s?"bg-white border-orange-500":"bg-gray-600 border-gray-500"),children:[s?r?(0,t.jsx)("img",{src:r,className:"w-full h-full object-cover rounded-full",onError:e=>{var a;e.currentTarget.style.display="none",null===(a=e.currentTarget.nextElementSibling)||void 0===a||a.classList.remove("hidden")}}):(0,t.jsx)(Q.Z,{className:"w-6 h-6 text-gray-700"}):(0,t.jsx)(B.Z,{className:"w-6 h-6 text-white"}),s&&r&&(0,t.jsx)(Q.Z,{className:"w-6 h-6 text-gray-700 hidden"})]})]}),(0,t.jsx)("div",{className:"mt-4 text-center max-w-36 ",children:(0,t.jsx)("h3",{className:"text-white bg-marca p-2  rounded-md text-xs font-semibold drop-shadow-lg leading-tight",children:e.titulo})})]})},e.id)})})})]}),(0,t.jsx)("div",{className:"bg-marca/70 text-white p-4 flex-shrink-0",children:(0,t.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,t.jsx)("div",{className:"text-center flex-1",children:(0,t.jsx)("p",{className:"text-white font-medium text-base",children:s.nome})})})}),(0,t.jsx)("div",{className:"bg-cyan-800 text-white p-3 flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)("div",{className:"w-6 h-6 bg-cyan-950 rounded flex items-center justify-center",children:(0,t.jsx)(L.Z,{className:"w-4 h-4 text-white"})})}),(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(Q.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)(M.Z,{className:"w-6 h-6 text-white"})})]})})]})}),(0,t.jsx)("div",{className:"text-center mt-4 text-white",children:(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-semibold",children:(null===(a=s.etapas)||void 0===a?void 0:a.length)||0})," ","etapas"]})})]})})}function G(e){let{trilhas:a,refetch:s,navigateToEtapas:r}=e,{token:l}=(0,n.a)(),[c,o]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[T,A]=(0,i.useState)(""),[I,_]=(0,i.useState)(!1),[D,Z]=(0,i.useState)(null),[q,O]=(0,i.useState)(!1),[F,L]=(0,i.useState)(null);(0,i.useEffect)(()=>{console.log("\uD83D\uDD04 PainelTrilhas - trilhas atualizadas:",a.length,"trilhas")},[a]);let M=a.length,V=a.reduce((e,a)=>{var s;return e+((null==a?void 0:null===(s=a.etapas)||void 0===s?void 0:s.length)||0)},0);function Q(e){if(!e.trim())return!0;let a=decodeURIComponent(e);return/^https?:\/\/.+\.(png|jpe?g|svg)(\?.*)?$/i.test(a)||/^https:\/\/firebasestorage\.googleapis\.com\/v0\/b\/[^/]+\/o\/[^?]+\?alt=media(&token=[^&]+)?$/i.test(e)}async function B(){if(c.trim())try{if(_(!0),T.trim()&&!Q(T.trim())){k.A.error("URL da imagem inv\xe1lida",{description:"Por favor, forne\xe7a uma URL v\xe1lida terminando em .png, .jpg, .jpeg ou .svg."});return}let e={id:"trilha_".concat(Date.now()+1),nome:c.trim(),descricao:m.trim()||"Sem descri\xe7\xe3o",etapas:[],image:"",backgroundSvg:T.trim()};console.log("Nova trilha sendo criada:",e),await U.hi.trails.create(e,l||""),o(""),p(""),A(""),O(!1),k.A.success("Trilha criada com sucesso!"),setTimeout(async()=>{console.log("\uD83D\uDD04 Fazendo refetch ap\xf3s criar trilha..."),await s()},500)}catch(e){console.error("Erro ao criar trilha:",e),k.A.error("Erro ao criar trilha",{description:e.message||"Ocorreu um erro ao tentar criar a trilha."})}finally{_(!1)}}async function G(e){try{await U.hi.trails.delete(e,l||""),k.A.success("Trilha exclu\xedda com sucesso!"),await s()}catch(e){console.error("Erro ao excluir trilha:",e),k.A.error("Erro ao excluir trilha",{description:e.message||"N\xe3o foi poss\xedvel excluir a trilha."})}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Painel de Trilhas"}),(0,t.jsxs)(N.Vq,{open:q,onOpenChange:O,children:[(0,t.jsx)(N.hg,{asChild:!0,children:(0,t.jsxs)(x.z,{className:"gap-1 items-center bg-marca hover:bg-marca/80 text-white",size:"sm",children:[(0,t.jsx)(b.Z,{size:16}),"Adicionar Trilha"]})}),(0,t.jsxs)(N.cZ,{children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Nova Trilha"}),(0,t.jsx)(N.Be,{children:"Crie uma nova trilha de aprendizado para seus usu\xe1rios."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"nome-trilha",children:"Nome da trilha"}),(0,t.jsx)(u.I,{id:"nome-trilha",placeholder:"Ex: React Native B\xe1sico",value:c,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"descricao-trilha",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"descricao-trilha",placeholder:"Ex: Aprenda os fundamentos do React Native",value:m,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"background-trilha",children:"Imagem de fundo (opcional)"}),(0,t.jsx)(R,{selectedImageUrl:T,onImageSelect:e=>{console.log("Imagem de fundo selecionada para nova trilha:",e),A(e)},buttonText:"Selecionar Imagem de Fundo",placeholder:"Nenhuma imagem de fundo selecionada"})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:function(){o(""),p(""),A(""),O(!1)},children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:B,disabled:!!(I||!c.trim()||T&&!Q(T)),children:I?"Criando...":"Criar trilha"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ll,{className:"text-sm font-medium",children:"Total de Trilhas"}),(0,t.jsx)(C.Z,{className:"h-4 w-4 text-marca"})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:M}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Trilhas de aprendizado dispon\xedveis"})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(d.ll,{className:"text-sm font-medium",children:"Total de Etapas"}),(0,t.jsx)(w.Z,{className:"h-4 w-4 text-marca"})]}),(0,t.jsxs)(d.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:V}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Etapas de aprendizado cadastradas"})]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Trilhas de Aprendizado"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(v.iA,{children:[(0,t.jsx)(v.xD,{children:(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.ss,{children:"Nome"}),(0,t.jsx)(v.ss,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(v.ss,{children:"Etapas"}),(0,t.jsx)(v.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(v.RM,{children:a.length>0?a.map(e=>{var a;return(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.pj,{className:"font-medium",children:null==e?void 0:e.nome}),(0,t.jsx)(v.pj,{className:"max-w-xs truncate",children:null==e?void 0:e.descricao}),(0,t.jsx)(v.pj,{children:(0,t.jsx)(h.C,{variant:"outline",children:(null==e?void 0:null===(a=e.etapas)||void 0===a?void 0:a.length)||0})}),(0,t.jsx)(v.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>r(e),children:(0,t.jsx)(w.Z,{size:16,className:"text-blue-600"})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Gerenciar Etapas"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>L(e),children:(0,t.jsx)(E.Z,{size:16,className:"text-green-600"})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Visualizar no App"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>{Z(e)},children:(0,t.jsx)(S.Z,{size:16})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Editar trilha"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(y.Q,{trigger:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",children:(0,t.jsx)(z.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta trilha? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>G(e.id)})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Excluir trilha"})})]})})]})})]},null==e?void 0:e.id)}):(0,t.jsx)(v.SC,{children:(0,t.jsx)(v.pj,{colSpan:4,className:"text-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(C.Z,{className:"h-8 w-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma trilha cadastrada"})]})})})})]})})]}),D&&(0,t.jsx)(P,{editingTrilha:D,onCancel:function(){Z(null)},refetch:s}),F&&(0,t.jsx)(J,{trilha:F,isOpen:!!F,onClose:()=>L(null)})]})}var K=s(32660),Y=s(48736),$=s(25887),H=s(64935),W=s(89291),X=s(29374),ee=s(92934),ea=s(33073),es=s(25846),et=s(6076),ei=s(11239);let er=[{value:"book-open",label:"Livro Aberto",icon:C.Z},{value:"book-open-text",label:"Livro com Texto",icon:$.Z},{value:"code",label:"C\xf3digo",icon:H.Z},{value:"layout",label:"Layout",icon:W.Z},{value:"video",label:"V\xeddeo",icon:X.Z},{value:"file-text",label:"Documento",icon:Y.Z},{value:"check-circle",label:"Conclu\xeddo",icon:ee.Z},{value:"puzzle",label:"Puzzle",icon:ea.Z},{value:"lightbulb",label:"Ideia",icon:es.Z},{value:"rocket",label:"Foguete",icon:et.Z},{value:"zap",label:"Raio",icon:ei.Z}];function el(e){let{iconName:a}=e,s=er.find(e=>e.value===a);if(s&&s.icon){let e=s.icon;return(0,t.jsx)(e,{className:"h-5 w-5"})}return(0,t.jsx)(C.Z,{className:"h-5 w-5"})}var en=s(43301),ec=s(94589);function eo(e){var a;let{selectedTrilha:s,editingEtapa:r,onCancel:l,refetch:c,setSelectedTrilha:o}=e,{token:d}=(0,n.a)(),[m,h]=(0,i.useState)("string"==typeof r.titulo?r.titulo:void 0!==r.titulo&&null!==r.titulo?String(r.titulo):""),[p,v]=(0,i.useState)("string"==typeof r.descricao?r.descricao:void 0!==r.descricao&&null!==r.descricao?String(r.descricao):""),[f,y]=(0,i.useState)(r.icon||"book-open"),[b,C]=(0,i.useState)(r.imageUrl||""),[w,E]=(0,i.useState)(!!(r.imageUrl&&""!==r.imageUrl.trim())),[S,z]=(0,i.useState)(!1);async function U(){if(s&&r&&m&&"string"==typeof m&&m.trim())try{if(z(!0),w&&"string"==typeof b&&!b.trim()){k.A.error("Por favor, selecione uma imagem da galeria."),z(!1);return}let e={...r,titulo:"string"==typeof m?m.trim():m,descricao:"string"==typeof p?p.trim():"Sem descri\xe7\xe3o",icon:w?b:f,iconLibrary:w?"custom":"lucide",imageUrl:w?b:""},a={...s,etapas:s.etapas.map(a=>a.id===r.id?e:a)},t=(0,en.v0)().currentUser;if(!t)throw Error("Usu\xe1rio n\xe3o autenticado");let i=await t.getIdToken(),n=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(s.id,".json?auth=").concat(i),{method:"PUT",body:JSON.stringify(a)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));o(a),l(),k.A.success("Etapa atualizada com sucesso!")}catch(e){console.error("Erro ao atualizar etapa:",e),k.A.error("Erro ao atualizar etapa",{description:e.message||"N\xe3o foi poss\xedvel atualizar a etapa."})}finally{z(!1)}}return(0,t.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&l(),children:(0,t.jsxs)(N.cZ,{children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Editar Etapa"}),(0,t.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es da etapa: ",(null===(a=r.titulo)||void 0===a?void 0:a.toString())||""]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-titulo-etapa",children:"T\xedtulo da etapa"}),(0,t.jsx)(u.I,{id:"edit-titulo-etapa",value:m,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-descricao-etapa",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"edit-descricao-etapa",value:p,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"edit-use-image",checked:w,onCheckedChange:e=>E(e)}),(0,t.jsx)(j._,{htmlFor:"edit-use-image",children:"Usar imagem em vez de \xedcone"})]}),w?(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-image-url",children:"Imagem da Etapa"}),(0,t.jsx)(R,{selectedImageUrl:b,onImageSelect:e=>{console.log("URL selecionada no ImageSelector:",e),C(e)},buttonText:"Selecionar Imagem",placeholder:"Nenhuma imagem selecionada"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"edit-icon-etapa",children:"\xcdcone"}),(0,t.jsxs)(T.Ph,{value:f,onValueChange:e=>y(e),children:[(0,t.jsx)(T.i4,{id:"edit-icon-etapa",children:(0,t.jsx)(T.ki,{placeholder:"Selecione um \xedcone"})}),(0,t.jsx)(T.Bw,{children:er.map(e=>(0,t.jsx)(T.Ql,{value:e.value,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.label]})},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:l,children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:U,disabled:S||!m.trim(),children:S?"Salvando...":"Salvar"})]})]})]})})}function ed(e){let{selectedTrilha:a,refetch:s,navigateToTrilhas:r,navigateToStages:l,setSelectedTrilha:c}=e,{token:o}=(0,n.a)(),[m,p]=(0,i.useState)({titulo:"",descricao:"",icon:"book-open",iconLibrary:"lucide",imageUrl:"",useImage:!1}),[C,w]=(0,i.useState)(!1),[E,U]=(0,i.useState)(null),[A,I]=(0,i.useState)(!1);async function _(){if(a&&m.titulo.trim())try{if(w(!0),m.useImage&&!m.imageUrl.trim()){k.A.error("Por favor, selecione uma imagem da galeria."),w(!1);return}let e={id:"etapa_".concat(Date.now()),titulo:m.titulo.trim(),descricao:m.descricao.trim()||"Sem descri\xe7\xe3o",icon:m.useImage?m.imageUrl.trim():m.icon,iconLibrary:m.useImage?"custom":"lucide",imageUrl:m.useImage?m.imageUrl.trim():"",icone:m.useImage?m.imageUrl.trim():m.icon,stages:[]};console.log("Nova etapa sendo criada:",e);let t={...a,etapas:[...a.etapas||[],e]},i=(0,en.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let r=await i.getIdToken(),l=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(a.id,".json?auth=").concat(r),{method:"PUT",body:JSON.stringify(t)});if(!l.ok)throw Error("Erro ao atualizar trilha: ".concat(l.statusText));c(t),p({titulo:"",descricao:"",icon:"book-open",iconLibrary:"lucide",imageUrl:"",useImage:!1}),I(!1),k.A.success("Etapa adicionada com sucesso!"),await s()}catch(e){console.error("Erro ao adicionar etapa:",e),k.A.error("Erro ao adicionar etapa",{description:e.message||"N\xe3o foi poss\xedvel adicionar a etapa."})}finally{w(!1)}}async function D(e){if(a)try{let t={...a,etapas:a.etapas.filter(a=>a.id!==e)},i=(0,en.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let r=await i.getIdToken(),l=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(a.id,".json?auth=").concat(r),{method:"PUT",body:JSON.stringify(t)});if(!l.ok)throw Error("Erro ao atualizar trilha: ".concat(l.statusText));c(t),k.A.success("Etapa exclu\xedda com sucesso!"),await s()}catch(e){console.error("Erro ao excluir etapa:",e),k.A.error("Erro ao excluir etapa",{description:e.message||"N\xe3o foi poss\xedvel excluir a etapa."})}}let Z=e=>"custom"===e.iconLibrary;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(x.z,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-1",children:[(0,t.jsx)(K.Z,{size:14}),"Voltar"]}),(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:["Etapas: ",(0,t.jsx)("span",{className:"text-marca",children:a.nome})]})]}),(0,t.jsxs)(N.Vq,{open:A,onOpenChange:I,children:[(0,t.jsx)(N.hg,{asChild:!0,children:(0,t.jsxs)(x.z,{className:"gap-1 items-center",size:"sm",children:[(0,t.jsx)(b.Z,{size:16}),"Adicionar Etapa"]})}),(0,t.jsxs)(N.cZ,{children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Nova Etapa"}),(0,t.jsxs)(N.Be,{children:["Adicione uma nova etapa \xe0 trilha ",a.nome,"."]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"titulo-etapa",children:"T\xedtulo da etapa"}),(0,t.jsx)(u.I,{id:"titulo-etapa",placeholder:"Ex: Componentes B\xe1sicos",value:m.titulo,onChange:e=>p({...m,titulo:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"descricao-etapa",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"descricao-etapa",placeholder:"Ex: Aprenda sobre os componentes fundamentais",value:m.descricao,onChange:e=>p({...m,descricao:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"use-image",checked:m.useImage,onCheckedChange:e=>p({...m,useImage:e})}),(0,t.jsx)(j._,{htmlFor:"use-image",children:"Usar imagem em vez de \xedcone"})]}),m.useImage?(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"image-url",children:"Imagem da Etapa"}),(0,t.jsx)(R,{selectedImageUrl:m.imageUrl,onImageSelect:e=>{console.log("Imagem selecionada para nova etapa:",e),p({...m,imageUrl:e})},buttonText:"Selecionar Imagem",placeholder:"Nenhuma imagem selecionada"})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"icon-etapa",children:"\xcdcone"}),(0,t.jsxs)(T.Ph,{value:m.icon,onValueChange:e=>p({...m,icon:e}),children:[(0,t.jsx)(T.i4,{id:"icon-etapa",children:(0,t.jsx)(T.ki,{placeholder:"Selecione um \xedcone"})}),(0,t.jsx)(T.Bw,{children:er.map(e=>(0,t.jsx)(T.Ql,{value:e.value,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.label]})},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:function(){p({titulo:"",descricao:"",icon:"book-open",iconLibrary:"lucide",imageUrl:"",useImage:!1}),I(!1)},children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:_,disabled:C||!m.titulo.trim(),children:C?"Adicionando...":"Adicionar etapa"})]})]})]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Etapas da Trilha"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(v.iA,{children:[(0,t.jsx)(v.xD,{children:(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.ss,{children:"\xcdcone"}),(0,t.jsx)(v.ss,{children:"T\xedtulo"}),(0,t.jsx)(v.ss,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(v.ss,{children:"Stages"}),(0,t.jsx)(v.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(v.RM,{children:a.etapas&&a.etapas.length>0?a.etapas.map(e=>{var a;return(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.pj,{children:(0,t.jsx)("div",{className:"bg-blue-100 p-1.5 rounded-full w-8 h-8 flex items-center justify-center",children:Z(e)?(0,t.jsx)("img",{src:e.icon||"/placeholder.svg",className:"h-5 w-5 object-contain"}):(0,t.jsx)(el,{iconName:e.icon})})}),(0,t.jsx)(v.pj,{className:"font-medium",children:e.titulo}),(0,t.jsx)(v.pj,{className:"max-w-xs truncate",children:e.descricao}),(0,t.jsx)(v.pj,{children:(0,t.jsx)(h.C,{variant:"outline",children:(null===(a=e.stages)||void 0===a?void 0:a.length)||0})}),(0,t.jsx)(v.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>l(e),children:(0,t.jsx)(Y.Z,{size:16,className:"text-blue-600"})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Gerenciar Stages"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>{U(e)},children:(0,t.jsx)(S.Z,{size:16})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Editar etapa"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(y.Q,{trigger:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",children:(0,t.jsx)(z.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta etapa? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>D(e.id)})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Excluir etapa"})})]})})]})})]},e.id)}):(0,t.jsx)(v.SC,{children:(0,t.jsx)(v.pj,{colSpan:5,className:"text-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"h-8 w-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma etapa cadastrada"})]})})})})]})})]}),E&&(0,t.jsx)(eo,{selectedTrilha:a,editingEtapa:E,onCancel:function(){U(null)},refetch:s,setSelectedTrilha:c})]})}var em=s(17168),eh=s(32489),ex=s(91723),eu=s(75368);function ep(e){var a;let{selectedTrilha:s,selectedEtapa:r,editingStage:l,onCancel:c,refetch:o,setSelectedTrilha:d,setSelectedEtapa:m}=e,{token:h}=(0,n.a)(),[p,v]=(0,i.useState)({...l}),[f,y]=(0,i.useState)(""),[b,C]=(0,i.useState)(!1);async function w(){var e;if(s&&r&&(null===(e=p.title)||void 0===e?void 0:e.trim()))try{C(!0);let e={...r,stages:r.stages.map(e=>e.id===l.id?p:e)},a={...s,etapas:s.etapas.map(a=>a.id===r.id?e:a)},t=(0,en.v0)().currentUser;if(!t)throw Error("Usu\xe1rio n\xe3o autenticado");let i=await t.getIdToken(),n=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(s.id,".json?auth=").concat(i),{method:"PUT",body:JSON.stringify(a)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));d(a),m(e),c(),k.A.success("Stage atualizado com sucesso!")}catch(e){console.error("Erro ao atualizar stage:",e),k.A.error("Erro ao atualizar stage",{description:e.message||"N\xe3o foi poss\xedvel atualizar o stage."})}finally{C(!1)}}function E(){f.trim()&&(v({...p,pontos_chave:[...p.pontos_chave||[],f.trim()]}),y(""))}return(0,t.jsx)(N.Vq,{open:!0,onOpenChange:e=>!e&&c(),children:(0,t.jsxs)(N.cZ,{className:"max-w-4xl",children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Editar Stage"}),(0,t.jsxs)(N.Be,{children:["Edite as informa\xe7\xf5es do stage ",l.title,"."]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(em.mQ,{defaultValue:"basic",className:"w-full",children:[(0,t.jsxs)(em.dr,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(em.SP,{value:"basic",children:"B\xe1sico"}),(0,t.jsx)(em.SP,{value:"media",children:"M\xeddia"}),(0,t.jsx)(em.SP,{value:"pontos",children:"Pontos-Chave"})]}),(0,t.jsxs)(em.nU,{value:"basic",className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-title-stage",children:"T\xedtulo do stage"}),(0,t.jsx)(u.I,{id:"edit-title-stage",value:p.title,onChange:e=>v({...p,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"edit-description-stage",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"edit-description-stage",value:p.description,onChange:e=>v({...p,description:e.target.value})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"edit-tempo-stage",children:"Tempo estimado"}),(0,t.jsx)(u.I,{id:"edit-tempo-stage",value:p.tempo_estimado,onChange:e=>v({...p,tempo_estimado:e.target.value})})]})})]}),(0,t.jsxs)(em.nU,{value:"media",className:"space-y-4 mt-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"edit-image-stage",children:"URL da imagem"}),(0,t.jsx)(u.I,{id:"edit-image-stage",value:p.image,onChange:e=>v({...p,image:e.target.value})})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"edit-video-stage",children:"URL do v\xeddeo"}),(0,t.jsx)(u.I,{id:"edit-video-stage",value:p.video,onChange:e=>v({...p,video:e.target.value})})]})})]}),(0,t.jsxs)(em.nU,{value:"pontos",className:"space-y-4 mt-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"edit-ponto-chave",children:"Adicionar ponto-chave"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.I,{id:"edit-ponto-chave",placeholder:"Ex: Entender o que s\xe3o componentes no React Native",value:f,onChange:e=>y(e.target.value),onKeyDown:e=>"Enter"===e.key&&E()}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:E,disabled:!f.trim(),children:"Adicionar"})]})]})}),(0,t.jsx)("div",{className:"space-y-2 mt-2",children:p.pontos_chave&&p.pontos_chave.length>0?p.pontos_chave.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{children:e})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>(function(e){let a=[...p.pontos_chave||[]];a.splice(e,1),v({...p,pontos_chave:a})})(a),children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-muted-foreground"})})]},a)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum ponto-chave adicionado."})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:c,children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:w,disabled:b||!(null===(a=p.title)||void 0===a?void 0:a.trim()),children:b?"Salvando...":"Salvar altera\xe7\xf5es"})]})]})]})})}function eg(e){var a;let{selectedTrilha:s,selectedEtapa:r,refetch:l,navigateToEtapas:c,navigateToQuestions:o,setSelectedTrilha:m,setSelectedEtapa:p}=e,{token:C}=(0,n.a)(),[w,E]=(0,i.useState)({title:"",description:"",tempo_estimado:"",image:"",video:"",pontos_chave:[],questions:[]}),[U,T]=(0,i.useState)(!1),[A,I]=(0,i.useState)(null),[_,D]=(0,i.useState)(""),[q,O]=(0,i.useState)(!1);async function F(){var e,a,t,i,l;if(s&&r&&(null===(e=w.title)||void 0===e?void 0:e.trim()))try{T(!0);let e={id:"stage_".concat(Date.now()),title:w.title.trim(),description:(null===(a=w.description)||void 0===a?void 0:a.trim())||"Sem descri\xe7\xe3o",tempo_estimado:null===(t=w.tempo_estimado)||void 0===t?void 0:t.trim(),image:(null===(i=w.image)||void 0===i?void 0:i.trim())||"",video:(null===(l=w.video)||void 0===l?void 0:l.trim())||"",pontos_chave:w.pontos_chave||[],questions:[],ordem:0,completed:void 0},n={...r,stages:[...r.stages||[],e]},c={...s,etapas:s.etapas.map(e=>e.id===r.id?n:e)},o=(0,en.v0)().currentUser;if(!o)throw Error("Usu\xe1rio n\xe3o autenticado");let d=await o.getIdToken(),h=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(s.id,".json?auth=").concat(d),{method:"PUT",body:JSON.stringify(c)});if(!h.ok)throw Error("Erro ao atualizar trilha: ".concat(h.statusText));m(c),p(n),E({title:"",description:"",tempo_estimado:"",image:"",video:"",pontos_chave:[],questions:[]}),D(""),O(!1),k.A.success("Stage adicionado com sucesso!")}catch(e){console.error("Erro ao adicionar stage:",e),k.A.error("Erro ao adicionar stage",{description:e.message||"N\xe3o foi poss\xedvel adicionar o stage."})}finally{T(!1)}}async function R(e){if(s&&r)try{let a={...r,stages:r.stages.filter(a=>a.id!==e)},t={...s,etapas:s.etapas.map(e=>e.id===r.id?a:e)},i=(0,en.v0)().currentUser;if(!i)throw Error("Usu\xe1rio n\xe3o autenticado");let l=await i.getIdToken(),n=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(s.id,".json?auth=").concat(l),{method:"PUT",body:JSON.stringify(t)});if(!n.ok)throw Error("Erro ao atualizar trilha: ".concat(n.statusText));m(t),p(a),k.A.success("Stage exclu\xeddo com sucesso!")}catch(e){console.error("Erro ao excluir stage:",e),k.A.error("Erro ao excluir stage",{description:e.message||"N\xe3o foi poss\xedvel excluir o stage."})}}function P(){_.trim()&&(E({...w,pontos_chave:[...w.pontos_chave||[],_.trim()]}),D(""))}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(x.z,{variant:"outline",size:"sm",onClick:()=>c(s),className:"flex items-center gap-1",children:[(0,t.jsx)(K.Z,{size:14}),"Voltar"]}),(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(el,{iconName:r.icon}),(0,t.jsxs)("span",{children:["Stages: ",(0,t.jsx)("span",{className:"text-marca",children:r.titulo})]})]})]}),(0,t.jsxs)(N.Vq,{open:q,onOpenChange:O,children:[(0,t.jsx)(N.hg,{asChild:!0,children:(0,t.jsxs)(x.z,{className:"gap-1 items-center",size:"sm",children:[(0,t.jsx)(b.Z,{size:16}),"Adicionar Stage"]})}),(0,t.jsxs)(N.cZ,{className:"max-w-4xl",children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:"Novo Stage"}),(0,t.jsxs)(N.Be,{children:["Adicione um novo stage \xe0 etapa ",r.titulo,"."]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(em.mQ,{defaultValue:"basic",className:"w-full",children:[(0,t.jsxs)(em.dr,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(em.SP,{value:"basic",children:"B\xe1sico"}),(0,t.jsx)(em.SP,{value:"media",children:"M\xeddia"}),(0,t.jsx)(em.SP,{value:"pontos",children:"Pontos-Chave"})]}),(0,t.jsxs)(em.nU,{value:"basic",className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"title-stage",children:"T\xedtulo do stage"}),(0,t.jsx)(u.I,{id:"title-stage",placeholder:"Ex: Introdu\xe7\xe3o aos Componentes",value:w.title||"",onChange:e=>E({...w,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"description-stage",children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"description-stage",placeholder:"Ex: Conceitos b\xe1sicos de componentes React Native",value:w.description||"",onChange:e=>E({...w,description:e.target.value})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"tempo-stage",children:"Tempo estimado"}),(0,t.jsx)(u.I,{id:"tempo-stage",placeholder:"Ex: 15-20 minutos",value:w.tempo_estimado||"",onChange:e=>E({...w,tempo_estimado:e.target.value})})]})})]}),(0,t.jsxs)(em.nU,{value:"media",className:"space-y-4 mt-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"image-stage",children:"URL da imagem"}),(0,t.jsx)(u.I,{id:"image-stage",placeholder:"Ex: https://reactnative.dev/img/tiny_logo.png",value:w.image||"",onChange:e=>E({...w,image:e.target.value})})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"video-stage",children:"URL do v\xeddeo"}),(0,t.jsx)(u.I,{id:"video-stage",placeholder:"Ex: https://www.youtube.com/watch?v=0-S5a0eXPoc",value:w.video||"",onChange:e=>E({...w,video:e.target.value})})]})})]}),(0,t.jsxs)(em.nU,{value:"pontos",className:"space-y-4 mt-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(j._,{htmlFor:"ponto-chave",children:"Adicionar ponto-chave"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.I,{id:"ponto-chave",placeholder:"Ex: Entender o que s\xe3o componentes no React Native",value:_,onChange:e=>D(e.target.value),onKeyDown:e=>"Enter"===e.key&&P()}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:P,disabled:!_.trim(),children:"Adicionar"})]})]})}),(0,t.jsx)("div",{className:"space-y-2 mt-2",children:w.pontos_chave&&w.pontos_chave.length>0?w.pontos_chave.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{children:e})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>(function(e){let a=[...w.pontos_chave||[]];a.splice(e,1),E({...w,pontos_chave:a})})(a),children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-muted-foreground"})})]},a)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum ponto-chave adicionado."})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(x.z,{variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:F,disabled:U||!(null===(a=w.title)||void 0===a?void 0:a.trim()),children:U?"Adicionando...":"Adicionar stage"})]})]})]})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Stages da Etapa"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(v.iA,{children:[(0,t.jsx)(v.xD,{children:(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.ss,{children:"T\xedtulo"}),(0,t.jsx)(v.ss,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(v.ss,{children:"Tempo"}),(0,t.jsx)(v.ss,{children:"Quest\xf5es"}),(0,t.jsx)(v.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(v.RM,{children:r.stages&&r.stages.length>0?r.stages.map(e=>{var a;return(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.pj,{className:"font-medium",children:e.title}),(0,t.jsx)(v.pj,{className:"max-w-xs truncate",children:e.description}),(0,t.jsx)(v.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ex.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{children:e.tempo_estimado})]})}),(0,t.jsx)(v.pj,{children:(0,t.jsx)(h.C,{variant:"outline",children:(null===(a=e.questions)||void 0===a?void 0:a.length)||0})}),(0,t.jsx)(v.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>o(e),children:(0,t.jsx)(eu.Z,{size:16,className:"text-blue-600"})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Gerenciar Quest\xf5es"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>{I(e)},children:(0,t.jsx)(S.Z,{size:16})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Editar stage"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(y.Q,{trigger:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",children:(0,t.jsx)(z.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir este stage? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>R(e.id)})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Excluir stage"})})]})})]})})]},e.id)}):(0,t.jsx)(v.SC,{children:(0,t.jsx)(v.pj,{colSpan:5,className:"text-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"h-8 w-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Nenhum stage cadastrado"})]})})})})]})})]}),A&&(0,t.jsx)(ep,{selectedTrilha:s,selectedEtapa:r,editingStage:A,onCancel:function(){I(null)},refetch:l,setSelectedTrilha:m,setSelectedEtapa:p})]})}var ej=s(37595),ev=s(22507);function ef(e){let{questions:a,onEditQuestion:s,onDeleteQuestion:i}=e,r=a.map(ev.hn);return(0,t.jsxs)(d.Zb,{children:[(0,t.jsx)(d.Ol,{children:(0,t.jsx)(d.ll,{children:"Quest\xf5es do Stage"})}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(v.iA,{children:[(0,t.jsx)(v.xD,{children:(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.ss,{children:"Tipo"}),(0,t.jsx)(v.ss,{children:"Descri\xe7\xe3o"}),(0,t.jsx)(v.ss,{children:"Detalhes"}),(0,t.jsx)(v.ss,{className:"text-right",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(v.RM,{children:r&&r.length>0?r.map(e=>{var a,r,l,n,c;return(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.pj,{children:(0,t.jsx)(h.C,{children:(n=e.type,(null===(c=[{value:ej.c.trueOrFalse,label:"Verdadeiro ou Falso"},{value:ej.c.multipleChoice,label:"M\xfaltipla Escolha"},{value:ej.c.ORDERING,label:"Ordena\xe7\xe3o"},{value:ej.c.MATCHING,label:"Correspond\xeancia"}].find(e=>e.value===n))||void 0===c?void 0:c.label)||n)})}),(0,t.jsx)(v.pj,{className:"max-w-xs truncate",children:e.description}),(0,t.jsxs)(v.pj,{children:[e.type===ej.c.trueOrFalse&&(0,t.jsx)(h.C,{variant:e.isTrue?"secondary":"destructive",children:e.isTrue?"Verdadeiro":"Falso"}),e.type===ej.c.multipleChoice&&(0,t.jsxs)(h.C,{variant:"outline",children:[(null===(a=e.options)||void 0===a?void 0:a.length)||0," op\xe7\xf5es"]}),e.type===ej.c.ORDERING&&(0,t.jsxs)(h.C,{variant:"outline",children:[(null===(r=e.items)||void 0===r?void 0:r.length)||0," itens"]}),e.type===ej.c.MATCHING&&(0,t.jsxs)(h.C,{variant:"outline",children:[(null===(l=e.correctMatches)||void 0===l?void 0:l.length)||0," correspond\xeancias"]})]}),(0,t.jsx)(v.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",onClick:()=>s(e),children:(0,t.jsx)(S.Z,{size:16})})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Editar quest\xe3o"})})]})}),(0,t.jsx)(f.pn,{children:(0,t.jsxs)(f.u,{children:[(0,t.jsx)(f.aJ,{asChild:!0,children:(0,t.jsx)(y.Q,{trigger:(0,t.jsx)(x.z,{size:"icon",variant:"ghost",children:(0,t.jsx)(z.Z,{size:16,className:"text-red-500"})}),title:"Confirmar Exclus\xe3o",description:"Voc\xea tem certeza de que deseja excluir esta quest\xe3o? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",onConfirm:()=>i(e.id)})}),(0,t.jsx)(f._v,{children:(0,t.jsx)("p",{children:"Excluir quest\xe3o"})})]})})]})})]},e.id)}):(0,t.jsx)(v.SC,{children:(0,t.jsx)(v.pj,{colSpan:4,className:"text-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(eu.Z,{className:"h-8 w-8 text-gray-400"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Nenhuma quest\xe3o cadastrada"})]})})})})]})})]})}var eN=s(68245),ey=s(99388);function eb(e){let{isTrue:a,statementText:s,onChange:i,onStatementTextChange:r}=e;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,t.jsx)(u.I,{id:"statement-text",placeholder:"Ex: Instru\xe7\xf5es adicionais para a quest\xe3o",value:s,onChange:e=>r(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-md",children:[(0,t.jsx)(ec.r,{id:"question-is-true",checked:a,onCheckedChange:i}),(0,t.jsx)(j._,{htmlFor:"question-is-true",className:"flex items-center gap-2",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ee.Z,{className:"h-4 w-4 text-green-500"}),(0,t.jsx)("span",{children:"A afirma\xe7\xe3o \xe9 verdadeira"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ey.Z,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{children:"A afirma\xe7\xe3o \xe9 falsa"})]})})]})]})}function eC(e){let{options:a,correctOptions:s,multipleCorrect:r,statementText:l,onOptionsChange:n,onCorrectOptionsChange:c,onMultipleCorrectChange:o,onStatementTextChange:d}=e,[m,h]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[v,f]=(0,i.useState)(!1),N=()=>{if(0===a.length)return"1";let e=a.map(e=>parseInt(e.id)).filter(e=>!isNaN(e));return 0===e.length?"1":String(Math.max(...e)+1)},y=e=>e.map((e,a)=>({...e,id:String(a+1)}));function b(){(m.trim()||p.trim())&&(n([...a,{id:N(),text:m.trim(),imageUrl:v?p.trim():void 0}]),h(""),g(""),f(!1))}return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"statement",children:"Enunciado da quest\xe3o"}),(0,t.jsx)(u.I,{id:"statement",placeholder:"Digite o enunciado da quest\xe3o",value:l,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-50 rounded-md p-3",children:[(0,t.jsx)(ec.r,{id:"multiple-correct",checked:r,onCheckedChange:o}),(0,t.jsx)(j._,{htmlFor:"multiple-correct",children:r?"M\xfaltiplas respostas corretas":"Apenas uma resposta correta"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(j._,{children:["Op\xe7\xf5es (",a.length,")"]}),a.length>0?a.map((e,i)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,t.jsx)(ec.r,{checked:s.includes(e.id),onCheckedChange:()=>{var a;return a=e.id,void(r?s.includes(a)?c(s.filter(e=>e!==a)):c([...s,a]):c([a]))}}),e.imageUrl&&(0,t.jsx)("img",{src:e.imageUrl,alt:"",className:"w-10 h-10 object-cover rounded"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-600 min-w-[20px]",children:[e.id,"."]}),(0,t.jsx)(u.I,{value:e.text,onChange:s=>{var t,i;return t=e.id,i=s.target.value,void n(a.map(e=>e.id===t?{...e,text:i}:e))},className:"flex-1",placeholder:"Op\xe7\xe3o ".concat(e.id)})]})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:t=>{t.preventDefault(),t.stopPropagation(),function(e){let t=a.filter(a=>a.id!==e),i=y(t),r=new Map;t.forEach((e,a)=>{r.set(e.id,String(a+1))});let l=s.filter(a=>a!==e).map(e=>r.get(e)||e).filter(e=>e);n(i),c(l)}(e.id)},type:"button",className:"ml-2 hover:bg-red-100",children:(0,t.jsx)(eh.Z,{className:"w-4 h-4 text-red-500"})})]},"option-".concat(e.id,"-").concat(i))):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhuma op\xe7\xe3o adicionada."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.I,{placeholder:"Digite uma nova op\xe7\xe3o",value:m,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),b())}}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ec.r,{id:"add-image",checked:v,onCheckedChange:f}),(0,t.jsx)(j._,{htmlFor:"add-image",children:"Adicionar imagem"})]}),v&&(0,t.jsx)(u.I,{placeholder:"URL da imagem",value:p,onChange:e=>g(e.target.value)}),(0,t.jsx)(x.z,{type:"button",onClick:b,disabled:!m.trim()&&(!v||!p.trim()),className:"w-full",children:"Adicionar Op\xe7\xe3o"})]})]})}var ew=s(36715),eE=s(26327);function eS(e){var a;let{items:s,correctOrder:r,statementText:l,onItemsChange:n,onCorrectOrderChange:c,onStatementTextChange:o}=e,[d,m]=(0,i.useState)({id:"",text:"",imageUrl:""}),[h,p]=(0,i.useState)(!1);function g(){var e,a;if(!d.text.trim()&&(!h||!(null===(e=d.imageUrl)||void 0===e?void 0:e.trim())))return;let t="item_".concat(Date.now()),i={id:t,text:d.text.trim(),imageUrl:h&&(null===(a=d.imageUrl)||void 0===a?void 0:a.trim())||""},l=Array.isArray(s)?[...s,i]:[i],o=Array.isArray(r)?[...r,t]:[t];n(l),c(o),m({id:"",text:"",imageUrl:""}),p(!1),console.log("New item added:",i),console.log("Updated items:",l),console.log("Updated order:",o)}function v(e,a){let s=r.indexOf(e);if(-1===s)return;let t=[...r];"up"===a&&s>0?[t[s],t[s-1]]=[t[s-1],t[s]]:"down"===a&&s<t.length-1&&([t[s],t[s+1]]=[t[s+1],t[s]]),c(t)}return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,t.jsx)(u.I,{id:"statement-text",placeholder:"Ex: Coloque os eventos na ordem cronol\xf3gica correta",value:l,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{children:"Itens para ordenar"}),s&&s.length>0?(0,t.jsx)("div",{className:"space-y-2",children:r.map((e,a)=>{let i=s.find(a=>a.id===e);return i?(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"bg-primary text-primary-foreground w-6 h-6 rounded-full flex items-center justify-center text-sm",children:a+1}),i.imageUrl&&(0,t.jsx)("img",{src:i.imageUrl||"/placeholder.svg",alt:i.text,className:"w-10 h-10 object-cover rounded"}),(0,t.jsx)("span",{children:i.text})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>v(i.id,"up"),disabled:0===a,children:(0,t.jsx)(ew.Z,{className:"h-4 w-4"})}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>v(i.id,"down"),disabled:a===r.length-1,children:(0,t.jsx)(eE.Z,{className:"h-4 w-4"})}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>{var e;return e=i.id,void(n(s.filter(a=>a.id!==e)),c(r.filter(a=>a!==e)))},children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-muted-foreground"})})]})]},i.id):null})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.I,{placeholder:"Digite um item para ordenar",value:d.text,onChange:e=>m({...d,text:e.target.value}),onKeyDown:e=>"Enter"===e.key&&!h&&g()}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"show-item-image",checked:h,onCheckedChange:p}),(0,t.jsx)(j._,{htmlFor:"show-item-image",children:"Adicionar imagem"})]}),h&&(0,t.jsx)(u.I,{placeholder:"URL da imagem",value:d.imageUrl||"",onChange:e=>m({...d,imageUrl:e.target.value})}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:()=>{console.log("Add button clicked"),console.log("Current newItem:",d),console.log("showItemImage:",h),g()},disabled:!d.text.trim()&&(!h||!(null===(a=d.imageUrl)||void 0===a?void 0:a.trim())),className:"w-full",children:"Adicionar"})]})]})]})}function ez(e){let{leftColumn:a,rightColumn:s,correctMatches:r,statementText:l,onLeftColumnChange:n,onRightColumnChange:c,onCorrectMatchesChange:o,onStatementTextChange:d}=e,[m,h]=(0,i.useState)({id:"",text:"",imageUrl:""}),[p,g]=(0,i.useState)({id:"",text:"",imageUrl:""}),[v,f]=(0,i.useState)(!1),[N,y]=(0,i.useState)(!1),[b,C]=(0,i.useState)({left:"",right:""}),w=()=>{if(0===a.length)return"L1";let e=a.map(e=>parseInt(e.id.replace("L",""))).filter(e=>!isNaN(e));return 0===e.length?"L1":"L".concat(Math.max(...e)+1)},E=()=>{if(0===s.length)return"R1";let e=s.map(e=>parseInt(e.id.replace("R",""))).filter(e=>!isNaN(e));return 0===e.length?"R1":"R".concat(Math.max(...e)+1)},S=e=>e.map((e,a)=>({...e,id:"L".concat(a+1)})),z=e=>e.map((e,a)=>({...e,id:"R".concat(a+1)}));function k(){(m.text.trim()||m.imageUrl)&&(n([...a,{id:w(),text:m.text.trim(),imageUrl:v&&m.imageUrl||""}]),h({id:"",text:"",imageUrl:""}),f(!1))}function U(){(p.text.trim()||p.imageUrl)&&(c([...s,{id:E(),text:p.text.trim(),imageUrl:N&&p.imageUrl||""}]),g({id:"",text:"",imageUrl:""}),y(!1))}return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(j._,{htmlFor:"statement-text",children:"Enunciado da quest\xe3o"}),(0,t.jsx)(u.I,{id:"statement-text",placeholder:"Ex: Relacione os conceitos com suas defini\xe7\xf5es",value:l,onChange:e=>d(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j._,{children:["Coluna Esquerda (",a.length,")"]}),a&&a.length>0?(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600 min-w-[30px]",children:e.id}),e.imageUrl&&(0,t.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.text,className:"w-10 h-10 object-cover rounded"}),(0,t.jsx)("span",{className:"flex-1",children:e.text})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:s=>{s.preventDefault(),s.stopPropagation(),function(e){let s=a.filter(a=>a.id!==e),t=S(s),i=new Map;s.forEach((e,a)=>{i.set(e.id,"L".concat(a+1))});let l=r.filter(a=>a.left!==e).map(e=>({...e,left:i.get(e.left)||e.left})).filter(e=>e.left&&e.right);n(t),o(l)}(e.id)},type:"button",className:"hover:bg-red-100",children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-red-500"})})]},"left-".concat(e.id,"-").concat(s)))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.I,{placeholder:"Item da coluna esquerda",value:m.text,onChange:e=>h({...m,text:e.target.value}),onKeyDown:e=>{"Enter"!==e.key||v||(e.preventDefault(),k())}}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"show-left-image",checked:v,onCheckedChange:f}),(0,t.jsx)(j._,{htmlFor:"show-left-image",children:"Adicionar imagem"})]}),v&&(0,t.jsx)(u.I,{placeholder:"URL da imagem",value:m.imageUrl||"",onChange:e=>h({...m,imageUrl:e.target.value})}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:k,disabled:!m.text.trim()&&(!v||!m.imageUrl),className:"w-full",children:"Adicionar"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(j._,{children:["Coluna Direita (",s.length,")"]}),s&&s.length>0?(0,t.jsx)("div",{className:"space-y-2",children:s.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-600 min-w-[30px]",children:e.id}),e.imageUrl&&(0,t.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.text,className:"w-10 h-10 object-cover rounded"}),(0,t.jsx)("span",{className:"flex-1",children:e.text})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:a=>{a.preventDefault(),a.stopPropagation(),function(e){let a=s.filter(a=>a.id!==e),t=z(a),i=new Map;a.forEach((e,a)=>{i.set(e.id,"R".concat(a+1))});let l=r.filter(a=>a.right!==e).map(e=>({...e,right:i.get(e.right)||e.right})).filter(e=>e.left&&e.right);c(t),o(l)}(e.id)},type:"button",className:"hover:bg-red-100",children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-red-500"})})]},"right-".concat(e.id,"-").concat(a)))}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhum item adicionado."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.I,{placeholder:"Item da coluna direita",value:p.text,onChange:e=>g({...p,text:e.target.value}),onKeyDown:e=>"Enter"===e.key&&!N&&U()}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"show-right-image",checked:N,onCheckedChange:y}),(0,t.jsx)(j._,{htmlFor:"show-right-image",children:"Adicionar imagem"})]}),N&&(0,t.jsx)(u.I,{placeholder:"URL da imagem",value:p.imageUrl||"",onChange:e=>g({...p,imageUrl:e.target.value})}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:U,disabled:!p.text.trim()&&(!N||!p.imageUrl),className:"w-full",children:"Adicionar"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 border-t pt-4",children:[(0,t.jsx)(j._,{children:"Correspond\xeancias Corretas"}),r&&r.length>0?(0,t.jsx)("div",{className:"space-y-2",children:r.map((e,i)=>{let l=null==a?void 0:a.find(a=>a.id===e.left),n=null==s?void 0:s.find(a=>a.id===e.right);return l&&n?(0,t.jsxs)("div",{className:"flex items-center justify-between bg-muted p-2 rounded-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l.imageUrl&&(0,t.jsx)("img",{src:l.imageUrl||"/placeholder.svg",alt:l.text,className:"w-10 h-10 object-cover rounded"}),(0,t.jsx)("span",{className:"font-medium",children:l.text})]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:""}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n.imageUrl&&(0,t.jsx)("img",{src:n.imageUrl||"/placeholder.svg",alt:n.text,className:"w-10 h-10 object-cover rounded"}),(0,t.jsx)("span",{children:n.text})]})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>{var a,s;return a=e.left,s=e.right,void o(r.filter(e=>!(e.left===a&&e.right===s)))},children:(0,t.jsx)(eh.Z,{className:"h-4 w-4 text-muted-foreground"})})]},i):null})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Nenhuma correspond\xeancia definida."}),(null==a?void 0:a.length)&&(null==s?void 0:s.length)?(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsxs)(T.Ph,{value:b.left,onValueChange:e=>C({...b,left:e}),children:[(0,t.jsx)(T.i4,{className:"flex-1",children:(0,t.jsx)(T.ki,{placeholder:"Item da esquerda"})}),(0,t.jsx)(T.Bw,{children:a.map(e=>(0,t.jsx)(T.Ql,{value:e.id,children:e.text},e.id))})]}),(0,t.jsxs)(T.Ph,{value:b.right,onValueChange:e=>C({...b,right:e}),children:[(0,t.jsx)(T.i4,{className:"flex-1",children:(0,t.jsx)(T.ki,{placeholder:"Item da direita"})}),(0,t.jsx)(T.Bw,{children:s.map(e=>(0,t.jsx)(T.Ql,{value:e.id,children:e.text},e.id))})]}),(0,t.jsx)(x.z,{type:"button",size:"sm",onClick:function(){b.left&&b.right&&(o([...r,{left:b.left,right:b.right}]),C({left:"",right:""}))},disabled:!b.left||!b.right,children:"Adicionar"})]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Adicione itens em ambas as colunas para criar correspond\xeancias."})]})]})}function ek(e){let{title:a,description:s,imageUrl:i,showImage:r,onTitleChange:l,onDescriptionChange:n,onImageUrlChange:c,onShowImageChange:o,isCorrect:d}=e,m=d?"correct":"incorrect";return(0,t.jsxs)("div",{className:"space-y-4 border-t pt-4 mt-4",children:[(0,t.jsxs)("h3",{className:"font-medium text-lg",children:["Explica\xe7\xe3o da Resposta ",d?"Correta":"Incorreta"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"".concat(m,"-explanation-title"),children:"T\xedtulo"}),(0,t.jsx)(u.I,{id:"".concat(m,"-explanation-title"),placeholder:"Ex: Resposta ".concat(d?"Correta":"Incorreta","!"),value:a,onChange:e=>l(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"".concat(m,"-explanation-description"),children:"Descri\xe7\xe3o"}),(0,t.jsx)(g,{id:"".concat(m,"-explanation-description"),placeholder:"Ex: ".concat(d?"Parab\xe9ns! Voc\xea acertou porque...":"Voc\xea errou porque..."),value:s,onChange:e=>n(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ec.r,{id:"show-".concat(m,"-explanation-image"),checked:r,onCheckedChange:o}),(0,t.jsx)(j._,{htmlFor:"show-".concat(m,"-explanation-image"),children:"Adicionar imagem"})]}),r&&(0,t.jsx)(u.I,{placeholder:"URL da imagem para resposta ".concat(d?"correta":"incorreta"),value:i||"",onChange:e=>c(e.target.value)})]})]})}let eU=[{value:ej.c.trueOrFalse,label:"Verdadeiro ou Falso"},{value:ej.c.multipleChoice,label:"M\xfaltipla Escolha"},{value:ej.c.ORDERING,label:"Ordena\xe7\xe3o"},{value:ej.c.MATCHING,label:"Correspond\xeancia"}];function eT(e){var a,s,r,l,n,c;let{open:o,onOpenChange:d,onSubmit:m,isSubmitting:h,initialQuestion:p,isEditing:v=!1,title:f,description:y,submitLabel:b}=e,[C,w]=(0,i.useState)({}),[E,S]=(0,i.useState)(!1),[z,k]=(0,i.useState)(!1),[U,A]=(0,i.useState)(!1),[I,_]=(0,i.useState)(!1),D=()=>({type:ej.c.trueOrFalse,description:"",descriptionImageUrl:"",isTrue:!1,options:[],correctOptions:[],multipleCorrect:!1,items:[],correctOrder:[],statementText:"",leftColumn:[],rightColumn:[],correctMatches:[],correctExplanation:{title:"",description:"",imageUrl:""},incorrectExplanation:{title:"",description:"",imageUrl:""}}),Z=(0,i.useCallback)(e=>{w(a=>({...a,options:e}))},[]),q=(0,i.useCallback)(e=>{w(a=>({...a,correctOptions:e}))},[]),O=(0,i.useCallback)(e=>{w(a=>({...a,multipleCorrect:e}))},[]),F=(0,i.useCallback)(e=>{w(a=>({...a,statementText:e}))},[]);(0,i.useEffect)(()=>{if(o){if(v&&p){var e,a;w({id:p.id,type:p.type,description:p.description||"",descriptionImageUrl:p.descriptionImageUrl||"",explanation:p.explanation||"",isTrue:p.isTrue,statementText:p.statementText||"",options:Array.isArray(p.options)?[...p.options]:[],correctOptions:Array.isArray(p.correctOptions)?[...p.correctOptions]:[],items:Array.isArray(p.items)?[...p.items]:[],correctOrder:Array.isArray(p.correctOrder)?[...p.correctOrder]:[],leftColumn:Array.isArray(p.leftColumn)?[...p.leftColumn]:[],rightColumn:Array.isArray(p.rightColumn)?[...p.rightColumn]:[],correctMatches:Array.isArray(p.correctMatches)?[...p.correctMatches]:[],multipleCorrect:p.multipleCorrect||!1,correctExplanation:p.correctExplanation?{title:p.correctExplanation.title||"",description:p.correctExplanation.description||"",imageUrl:p.correctExplanation.imageUrl||""}:{title:"",description:"",imageUrl:""},incorrectExplanation:p.incorrectExplanation?{title:p.incorrectExplanation.title||"",description:p.incorrectExplanation.description||"",imageUrl:p.incorrectExplanation.imageUrl||""}:{title:"",description:"",imageUrl:""}}),S(!!(null===(e=p.correctExplanation)||void 0===e?void 0:e.imageUrl)),k(!!(null===(a=p.incorrectExplanation)||void 0===a?void 0:a.imageUrl)),A(!!p.descriptionImageUrl)}else w(D()),S(!1),k(!1),A(!1);_(!0)}},[o,v,null==p?void 0:p.id,null==p?void 0:p.type]),(0,i.useEffect)(()=>{o||(_(!1),w({}),S(!1),k(!1),A(!1))},[o]),(0,i.useEffect)(()=>{},[C.options,C.correctOptions]);let R=async()=>{let e={...C,type:C.type,descriptionImageUrl:U&&C.descriptionImageUrl||""};await m(e)};return o&&!I?null:(0,t.jsx)(N.Vq,{open:o,onOpenChange:d,children:(0,t.jsxs)(N.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(N.fK,{children:[(0,t.jsx)(N.$N,{children:f}),(0,t.jsx)(N.Be,{children:y})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"question-type",children:"Tipo de Quest\xe3o"}),(0,t.jsxs)(T.Ph,{value:C.type||ej.c.trueOrFalse,onValueChange:e=>{v||w(a=>({...a,type:e}))},disabled:v,children:[(0,t.jsx)(T.i4,{id:"question-type",children:(0,t.jsx)(T.ki,{placeholder:"Selecione o tipo"})}),(0,t.jsx)(T.Bw,{children:eU.map(e=>(0,t.jsx)(T.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(j._,{htmlFor:"question-description",children:"Descri\xe7\xe3o da quest\xe3o (opcional)"}),(0,t.jsx)(g,{id:"question-description",placeholder:"Ex: React Native permite escrever c\xf3digo uma vez e executar em m\xfaltiplas plataformas.",value:C.description||"",onChange:e=>w(a=>({...a,description:e.target.value}))}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eN.X,{id:"show-description-image",checked:U,onCheckedChange:e=>{A(e),e||w({...C,descriptionImageUrl:""})}}),(0,t.jsx)(j._,{htmlFor:"show-description-image",className:"text-sm",children:"Adicionar imagem \xe0 descri\xe7\xe3o"})]}),U&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(j._,{htmlFor:"description-image-url",children:"URL da Imagem da Descri\xe7\xe3o"}),(0,t.jsx)(u.I,{id:"description-image-url",type:"url",placeholder:"https://exemplo.com/imagem.jpg",value:C.descriptionImageUrl||"",onChange:e=>w({...C,descriptionImageUrl:e.target.value})}),C.descriptionImageUrl&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)(j._,{className:"text-sm text-gray-600",children:"Preview da imagem:"}),(0,t.jsx)("div",{className:"mt-1 border rounded-md p-2",children:(0,t.jsx)("img",{src:C.descriptionImageUrl||"/placeholder.svg",alt:"Preview da descri\xe7\xe3o",className:"max-w-full h-auto max-h-48 object-contain",onError:e=>{e.target.style.display="none"}})})]})]})]}),(()=>{switch(C.type){case ej.c.trueOrFalse:return(0,t.jsx)(eb,{isTrue:C.isTrue||!1,onChange:e=>w(a=>({...a,isTrue:e})),onStatementTextChange:F,statementText:C.statementText||""});case ej.c.multipleChoice:return(0,t.jsx)(eC,{options:C.options||[],correctOptions:C.correctOptions||[],multipleCorrect:C.multipleCorrect||!1,statementText:C.statementText||"",onOptionsChange:Z,onCorrectOptionsChange:q,onMultipleCorrectChange:O,onStatementTextChange:F});case ej.c.ORDERING:return(0,t.jsx)(eS,{items:C.items||[],correctOrder:C.correctOrder||[],statementText:C.statementText||"",onItemsChange:e=>{w(a=>({...a,items:e}))},onCorrectOrderChange:e=>{w(a=>({...a,correctOrder:e}))},onStatementTextChange:F});case ej.c.MATCHING:return(0,t.jsx)(ez,{leftColumn:C.leftColumn||[],rightColumn:C.rightColumn||[],correctMatches:C.correctMatches||[],statementText:C.statementText||"",onLeftColumnChange:e=>{w(a=>({...a,leftColumn:e}))},onRightColumnChange:e=>{console.log("\uD83D\uDCDD Coluna direita atualizada:",e),w(a=>({...a,rightColumn:e}))},onCorrectMatchesChange:e=>{console.log("\uD83D\uDCDD Correspond\xeancias atualizadas:",e),w(a=>({...a,correctMatches:e}))},onStatementTextChange:F});default:return console.warn(" Tipo de quest\xe3o n\xe3o reconhecido:",C.type),null}})(),(0,t.jsx)(ek,{title:(null===(a=C.correctExplanation)||void 0===a?void 0:a.title)||"",description:(null===(s=C.correctExplanation)||void 0===s?void 0:s.description)||"",imageUrl:null===(r=C.correctExplanation)||void 0===r?void 0:r.imageUrl,showImage:E,onTitleChange:e=>w({...C,correctExplanation:{...C.correctExplanation,title:e}}),onDescriptionChange:e=>w({...C,correctExplanation:{...C.correctExplanation,description:e}}),onImageUrlChange:e=>w({...C,correctExplanation:{...C.correctExplanation,imageUrl:e}}),onShowImageChange:S,isCorrect:!0}),(0,t.jsx)(ek,{title:(null===(l=C.incorrectExplanation)||void 0===l?void 0:l.title)||"",description:(null===(n=C.incorrectExplanation)||void 0===n?void 0:n.description)||"",imageUrl:null===(c=C.incorrectExplanation)||void 0===c?void 0:c.imageUrl,showImage:z,onTitleChange:e=>w({...C,incorrectExplanation:{...C.incorrectExplanation,title:e}}),onDescriptionChange:e=>w({...C,incorrectExplanation:{...C.incorrectExplanation,description:e}}),onImageUrlChange:e=>w({...C,incorrectExplanation:{...C.incorrectExplanation,imageUrl:e}}),onShowImageChange:k,isCorrect:!1}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[v&&(0,t.jsx)(x.z,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),(0,t.jsx)(x.z,{onClick:R,disabled:h||!(()=>{var e,a;let s=null===(e=C.description)||void 0===e?void 0:e.trim(),t=U&&(null===(a=C.descriptionImageUrl)||void 0===a?void 0:a.trim());return s||t})(),className:v?"":"w-full",children:h?"Processando...":b})]})]})]})})}async function eA(e){try{let a=(0,en.v0)().currentUser;if(!a)throw Error("Usu\xe1rio n\xe3o autenticado");let s=await a.getIdToken();console.log("\uD83D\uDD25 === ENVIANDO PARA FIREBASE ==="),console.log("\uD83D\uDD25 Trilha original:",e),e.etapas.forEach((e,a)=>{e.stages.forEach((e,s)=>{e.questions&&e.questions.length>0&&(console.log("\uD83D\uDD25 Etapa ".concat(a," - Stage ").concat(s," - Quest\xf5es ANTES da limpeza:")),e.questions.forEach((e,a)=>{console.log("  ".concat(a+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))}))})});let t=function e(a){if(!a)return a;if(Array.isArray(a))return a.map(a=>e(a));if("object"!=typeof a||null===a)return a;let s={...a};return delete s.concluida,delete s.completed,delete s.isCompleted,delete s.completedAt,delete s.completedBy,delete s.progress,Object.keys(s).forEach(a=>{Array.isArray(s[a])?s[a]=s[a].map(a=>"object"==typeof a&&null!==a?e(a):a):"object"==typeof s[a]&&null!==s[a]&&(s[a]=e(s[a]))}),s}(e);console.log("\uD83D\uDD25 Trilha ap\xf3s limpeza:",t),t.etapas.forEach((e,a)=>{e.stages.forEach((e,s)=>{e.questions&&e.questions.length>0&&(console.log("\uD83D\uDD25 Etapa ".concat(a," - Stage ").concat(s," - Quest\xf5es AP\xd3S a limpeza:")),e.questions.forEach((e,a)=>{console.log("  ".concat(a+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))}))})});let i=JSON.stringify(t);console.log("\uD83D\uDD25 JSON que ser\xe1 enviado:",i);let r=await fetch("".concat("https://g7-medico-889d4-default-rtdb.firebaseio.com","/trilhas/").concat(e.id,".json?auth=").concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:i});if(!r.ok)throw Error("Erro ao atualizar trilha: "+r.statusText);console.log("\uD83D\uDD25 Resposta do Firebase:",await r.text()),console.log(" Trilha atualizada com sucesso no Firebase")}catch(e){throw console.error(" Erro ao atualizar trilha no Firebase:",e),Error("Erro ao atualizar trilha no Firebase: "+e.message)}}function eI(e){let{selectedTrilha:a,selectedEtapa:s,selectedStage:r,refetch:l,navigateToStages:c,setSelectedTrilha:o,setSelectedEtapa:d,setSelectedStage:m}=e,{token:h}=(0,n.a)(),[u,p]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!1),[v,f]=(0,i.useState)(null),[N,y]=(0,i.useState)(!1);async function C(e){var t,i,l,n,c,h;let x=null===(t=e.description)||void 0===t?void 0:t.trim(),u=null===(i=e.descriptionImageUrl)||void 0===i?void 0:i.trim();if(!a||!s||!r||!x&&!u){x||u||k.A.error("A quest\xe3o deve ter pelo menos uma descri\xe7\xe3o ou uma imagem");return}try{p(!0);let t={id:"question_".concat(Date.now()),type:e.type,description:(null===(l=e.description)||void 0===l?void 0:l.trim())||"",descriptionImageUrl:(null===(n=e.descriptionImageUrl)||void 0===n?void 0:n.trim())||"",...function(e){switch(e.type){case ej.c.trueOrFalse:return{isTrue:e.isTrue||!1,statementText:e.statementText||""};case ej.c.multipleChoice:return{options:e.options||[],correctOptions:e.correctOptions||[],multipleCorrect:e.multipleCorrect||!1,statementText:e.statementText||""};case ej.c.ORDERING:return{items:e.items||[],correctOrder:e.correctOrder||[],statementText:e.statementText||""};case ej.c.MATCHING:return{leftColumn:e.leftColumn||[],rightColumn:e.rightColumn||[],correctMatches:e.correctMatches||[],statementText:e.statementText||""};default:return{}}}(e),correctExplanation:e.correctExplanation,incorrectExplanation:e.incorrectExplanation};null===(c=r.questions)||void 0===c||c.forEach((e,a)=>{console.log("  ".concat(a+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))});let i={...r,questions:[...r.questions||[],t]};null===(h=i.questions)||void 0===h||h.forEach((e,a)=>{console.log("  ".concat(a+1,". ID: ").concat(e.id,", Tipo: ").concat(e.type))});let x={...s,stages:s.stages.map(e=>e.id===r.id?i:e)},u={...a,etapas:a.etapas.map(e=>e.id===s.id?x:e)};await eA(u),o(u),d(x),m(i),k.A.success("Quest\xe3o adicionada com sucesso!"),j(!1)}catch(e){console.error(" Erro ao adicionar quest\xe3o:",e),k.A.error("Erro ao adicionar quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel adicionar a quest\xe3o."})}finally{p(!1)}}async function w(e){var t,i,l,n,c;let h=null===(t=e.description)||void 0===t?void 0:t.trim(),x=null===(i=e.descriptionImageUrl)||void 0===i?void 0:i.trim();if(!a||!s||!r||!v||!h&&!x){h||x||k.A.error("A quest\xe3o deve ter pelo menos uma descri\xe7\xe3o ou uma imagem");return}try{y(!0);let t={...v,...e,id:v.id,type:v.type,description:(null===(l=e.description)||void 0===l?void 0:l.trim())||v.description||"",descriptionImageUrl:(null===(n=e.descriptionImageUrl)||void 0===n?void 0:n.trim())||v.descriptionImageUrl||""},i={...r,questions:(null!==(c=r.questions)&&void 0!==c?c:[]).map(e=>e.id===v.id?t:e)},h={...s,stages:s.stages.map(e=>e.id===r.id?i:e)},x={...a,etapas:a.etapas.map(e=>e.id===s.id?h:e)};await eA(x),o(x),d(h),m(i),f(null),j(!1),k.A.success("Quest\xe3o atualizada com sucesso!")}catch(e){console.error(" Erro ao atualizar quest\xe3o:",e),k.A.error("Erro ao atualizar quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel atualizar a quest\xe3o."})}finally{y(!1)}}async function E(e){if(a&&s&&r)try{var t;let i={...r,questions:(null!==(t=r.questions)&&void 0!==t?t:[]).filter(a=>a.id!==e)},l={...s,stages:s.stages.map(e=>e.id===r.id?i:e)},n={...a,etapas:a.etapas.map(e=>e.id===s.id?l:e)};await eA(n),o(n),d(l),m(i),k.A.success("Quest\xe3o exclu\xedda com sucesso!")}catch(e){console.error("Erro ao excluir quest\xe3o:",e),k.A.error("Erro ao excluir quest\xe3o",{description:e.message||"N\xe3o foi poss\xedvel excluir a quest\xe3o."})}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(x.z,{variant:"outline",size:"sm",onClick:()=>c(s),className:"flex items-center gap-1",children:[(0,t.jsx)(K.Z,{size:14}),"Voltar"]}),(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(eu.Z,{className:"h-5 w-5"}),(0,t.jsxs)("span",{children:["Quest\xf5es:"," ",(0,t.jsx)("span",{className:"text-marca",children:r.title})]})]})]}),(0,t.jsxs)(x.z,{className:"gap-1 items-center",size:"sm",onClick:()=>j(!0),children:[(0,t.jsx)(b.Z,{size:16}),"Adicionar Quest\xe3o"]})]}),(0,t.jsx)(ef,{questions:r.questions||[],onEditQuestion:function(e){let a={...e,options:e.options||[],correctOptions:e.correctOptions||[],items:e.items||[],correctOrder:e.correctOrder||[],leftColumn:e.leftColumn||[],rightColumn:e.rightColumn||[],correctMatches:e.correctMatches||[]};console.log("\uD83D\uDD27 Quest\xe3o preparada para edi\xe7\xe3o:",a),f(a),j(!0)},onDeleteQuestion:E}),(0,t.jsx)(eT,{open:g,onOpenChange:j,onSubmit:C,isSubmitting:u,title:"Nova Quest\xe3o",description:"Adicione uma nova quest\xe3o ao stage ".concat(r.title,"."),submitLabel:"Adicionar quest\xe3o",isEditing:!1}),v&&(0,t.jsx)(eT,{open:!!v,onOpenChange:e=>{e||f(null)},onSubmit:w,isSubmitting:N,initialQuestion:v,isEditing:!0,title:"Editar Quest\xe3o",description:"Edite as informa\xe7\xf5es da quest\xe3o.",submitLabel:"Salvar"},v.id)]})}var e_=s(10407);function eD(e){let{currentView:a,selectedTrilha:s,selectedEtapa:i,selectedStage:r,navigateToTrilhas:l,navigateToEtapas:n,navigateToStages:c}=e;return(0,t.jsxs)("nav",{className:"flex items-center gap-2 text-sm  p-2 rounded-md",children:[(0,t.jsxs)(x.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:l,children:[(0,t.jsx)(C.Z,{className:"h-4 w-4"}),"Trilhas"]}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)(x.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:()=>n(s),children:[(0,t.jsx)(w.Z,{className:"h-4 w-4"}),s.nome]})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)(x.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",onClick:()=>c(i),children:[(0,t.jsx)(el,{iconName:i.icon}),i.titulo]})]}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)(x.z,{variant:"ghost",size:"sm",className:"flex items-center gap-1 font-semibold bg-marca text-white",children:[(0,t.jsx)(Y.Z,{className:"h-4 w-4"}),r.title]})]})]})}function eZ(e){let{trilhas:a,refetch:s}=e,[r,l]=(0,i.useState)("trilhas"),[n,c]=(0,i.useState)(null),[o,d]=(0,i.useState)(null),[m,h]=(0,i.useState)(null);async function x(){l("trilhas"),c(null),d(null),h(null),await s()}function u(e){l("etapas"),c(e),d(null),h(null)}function p(e){l("stages"),d(e),h(null)}return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(eD,{currentView:r,selectedTrilha:n,selectedEtapa:o,selectedStage:m,navigateToTrilhas:x,navigateToEtapas:u,navigateToStages:p}),"trilhas"===r&&(0,t.jsx)(G,{trilhas:a,refetch:s,navigateToEtapas:u}),"etapas"===r&&n&&(0,t.jsx)(ed,{selectedTrilha:n,refetch:s,navigateToTrilhas:x,navigateToStages:p,setSelectedTrilha:c}),"stages"===r&&n&&o&&(0,t.jsx)(eg,{selectedTrilha:n,selectedEtapa:o,refetch:s,navigateToEtapas:u,navigateToQuestions:function(e){l("questions"),h(e)},setSelectedTrilha:c,setSelectedEtapa:d}),"questions"===r&&n&&o&&m&&(0,t.jsx)(eI,{selectedTrilha:n,selectedEtapa:o,selectedStage:m,refetch:s,navigateToStages:p,setSelectedTrilha:c,setSelectedEtapa:d,setSelectedStage:h})]})}var eq=s(434),eO=s(75547);function eF(){let{isAuthenticated:e,isLoading:a,showLoadingTransition:s}=(0,n.a)(),{trilhas:o,isLoading:d,error:h,refetch:x}=(0,c.w)(),u=(0,r.useRouter)();if((0,i.useEffect)(()=>{a||e||u.push("/")},[e,a,u]),a||d||s)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Y,{}),(0,t.jsx)("div",{className:"sm:ml-64 p-4",children:(0,t.jsx)(m,{})})]});let p=o.map(e=>({...e,title:"string"==typeof e.nome?e.nome:String(e.nome),nome:"string"==typeof e.nome?e.nome:String(e.nome),descricao:"string"==typeof e.descricao?e.descricao:String(e.descricao),backgroundSvg:e.backgroundSvg||"",etapas:e.etapas.map(e=>({...e,title:"string"==typeof e.titulo?e.titulo:String(e.titulo),nome:"string"==typeof e.titulo?e.titulo:String(e.titulo),titulo:"string"==typeof e.titulo?e.titulo:String(e.titulo),descricao:"string"==typeof e.descricao?e.descricao:String(e.descricao),icon:e.icon||e.icone||"",iconLibrary:e.iconLibrary||"",imageUrl:e.imageUrl||"",stages:e.stages||[]}))}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eq.V,{title:"Painel"}),(0,t.jsx)(l.Y,{}),(0,t.jsx)("div",{className:"container mx-auto p-4 sm:p-6 max-w-7xl sm:ml-64",children:(0,t.jsx)(eZ,{trilhas:p,refetch:x})})]})}function eR(){return(0,t.jsx)(eO.i,{requireAdmin:!0,children:(0,t.jsx)(eF,{})})}},75547:function(e,a,s){"use strict";s.d(a,{i:function(){return c}});var t=s(57437),i=s(2265),r=s(99376),l=s(45478),n=s(51817);function c(e){let{children:a,requireAdmin:s=!0}=e,{user:c,isLoading:o,isAuthenticated:d}=(0,l.a)(),m=(0,r.useRouter)();return((0,i.useEffect)(()=>{if(!o&&(!d||s&&(null==c?void 0:c.role)!=="admin")){m.push("/");return}},[d,o,c,m,s]),o)?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(n.Z,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Verificando autentica\xe7\xe3o..."})]})}):!d||s&&(null==c?void 0:c.role)!=="admin"?(0,t.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(n.Z,{className:"w-8 h-8 animate-spin mx-auto text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Redirecionando..."})]})}):(0,t.jsx)(t.Fragment,{children:a})}},75060:function(e,a,s){"use strict";s.d(a,{_:function(){return o}});var t=s(57437),i=s(2265),r=s(6394),l=s(90535),n=s(93448);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.f,{ref:a,className:(0,n.cn)(c(),s),...i})});o.displayName=r.f.displayName},94589:function(e,a,s){"use strict";s.d(a,{r:function(){return n}});var t=s(57437),i=s(2265),r=s(50721),l=s(93448);let n=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(r.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...i,ref:a,children:(0,t.jsx)(r.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=r.fC.displayName}},function(e){e.O(0,[481,982,841,256,235,865,869,83,478,773,170,971,117,744],function(){return e(e.s=78635)}),_N_E=e.O()}]);